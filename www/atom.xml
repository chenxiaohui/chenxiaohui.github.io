<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[CXH.ME]]></title>
  <link href="http://cxh.me/atom.xml" rel="self"/>
  <link href="http://cxh.me/"/>
  <updated>2015-01-17T18:43:45+08:00</updated>
  <id>http://cxh.me/</id>
  <author>
    <name><![CDATA[Harry Chen]]></name>
    <email><![CDATA[sdqxcxh@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[转载：生活不是眼前的苟且，生活有诗和远方——高晓松]]></title>
    <link href="http://cxh.me/2015/01/17/life-has-peom-and-distance/"/>
    <updated>2015-01-17T18:41:00+08:00</updated>
    <id>http://cxh.me/2015/01/17/life-has-peom-and-distance</id>
    <content type="html"><![CDATA[<p>  “我妈说生活不是眼前的苟且，生活有诗和远方。我 和我妹妹深受这教育。谁要觉得你眼前这点儿苟且就是你的人生，那你这一生就完了。生活就是适合远方，能走多远走多远；走不远，一分钱没有，那么就读诗，诗 就是你坐在这，它就是远方。”</p>

<p>  关于房子，我跟大多数人概念不一样。我从小住在清华校园里，家是那种二层的小楼，外表看起来很普通，面积也不是特大，但是特别安静。</p>

<p>  这地儿都没动过，也没装修之说，从我生下来就是这样红色的，很老很旧。但我在那儿真觉得挺好，有一个家，但我在那儿真觉得挺好，有一个家，不仅仅是睡觉的 地方，我自己也不知道这房子多少年了，我们也在感慨：后边的院子多好啊，出门就是操场、游泳馆，还有漂亮的女生，白发的先生；四周的邻居，随便踹开一家的 门，里面住的都是中国顶级的大知识分子，进去聊会儿天怎么都长知识，梁思成林徽因就住我前面的院子。小时候有什么问题家里老人就写一张字条，说这问题你问 谁谁谁。我找到人家家里，打开字条一看，哦，你是那谁家的孩子，那你讲吧，都是中国头把交椅啊。这才是住处真正的意义吧，它让你透气，而不是豪华的景观、 户型和装修什么的。</p>

<p>  2007年， 我们搬了出来，因为家人都在国外，我又不在清华教书，学校就把房子收回去了，后来我去了洛杉矶。</p>

<p>  去了美国，我一样是无房户，坚定的无房主义者。刚去美国的时候，我做编剧和开发，只卖出了两首电影歌曲。美国流行音乐是草根文化，美国卖吉他的黑人当我师 傅都有富余，不是说他弹得比我好，是同样一个琴我们弹的都不是一个级别，出的声音都不一样。国外很多伟大的乐队，都是一个班的同学，在中国整个高校也选拔 不出一个牛的乐队。为啥？国内很多年轻人的热情都分散了，赚钱的热情大过音乐本身，比如买房。</p>

<p>  郑钧有一天跟我说，有些艺术家被抓进精神病院，成了精神病；有些精神病人从精神病院逃出来，成为艺术家，你就是那后者，你的生活就像行为艺术。不过，我肯 定不属于时尚人士，因为从来不关注别人的流行趋势，也算不上中产阶级，如果我的钱只够旅行或是买房子，那我就去旅行。</p>

<p>  平时除了听听歌，看看电影，我最大的爱好就是满世界跑着玩。大概去过三十多个国家了，到一个地方就买一辆车，然后玩一段时间就把车卖了，再去下一个地方。</p>

<p>  经常在旅途中碰上一堆人，然后很快成为朋友，然后喝酒，然后下了火车各自离去。之前还在欧洲碰见一个东欧乐队，我帮人弹琴，后来还跟人卖艺去了，跟着人到 处跑到处弹唱，到荷兰，到西班牙，到丹麦……我妈也是，一个人背包走遍世界，我妈现在还在流浪，在考察美国天主教遗址。</p>

<p>  我妹也是，也没有买房，她挣的钱比我多得多。之前她骑摩托横穿非洲，摩托车在沙漠小村里坏了，她索性就在那里生活两个月等着零件寄到。然后在撒哈拉沙漠一 小村子里给我写一个明信片，叫做“彩虹之上”，她在明信片里告诉我说，哥，我骑了一个宝马摩托，好开心。我看到沙漠深处的血色残阳，与酋长族人喝酒，他们 的笑容晃眼睛……因为我跟我妹都不买房，你知道你只要不买房，你想开什么车开什么车。你想，你一个厕所的面积就恨不得能买一奔驰。然后她就开一宝马摩托， 坏了，说整个非洲都没这零件，她说你知道我现在在做什么吗？我在撒哈拉一个小村子里给人当导游。</p>

<p>  我妈从小就教育我们，不要被一些所谓的财产困住。所以我跟我妹走遍世界，然后我俩都不买房，就觉得很幸福。我妈说生活不是眼前的苟且，生活有诗和远方。我 和我妹妹深受这教育。谁要觉得你眼前这点儿苟且就是你的人生，那你这一生就完了。生活就是适合远方，能走多远走多远；走不远，一分钱没有，那么就读诗，诗 就是你坐在这，它就是远方。越是年长，越能体会我妈的话。</p>

<p>  美国人平均31岁才第一次购房，德国人42岁，比利时人37岁，欧洲拥有独立住房的人口占50%，剩下都是租房。为什么现在中国的年轻人一毕业就结婚？一 结婚就买房？怎样才能买到房？一套房子会限制你所有的行为和决定。因为你知道，要一提裸婚，没有人愿意嫁给你。即使老婆愿意，他们家人呢？别人会怎么看？ 孩子以后怎么办？以今天的房价，普通人买房只有两种情况，一种是双方父母出钱资助，这种人基本上前途和发展被父母控股。第二种人是牺牲了太多的发展机会， 典当梦想来成就一套房子。他们购买的，其实是自己内心深处的“安全感”。他们觉得，有一套房子，会让自己内心安全一点儿。但是安全感真的可以来自于一套房 子吗？归根结底，还是价值观的问题。世界再怎么变，还是要有坚持，即使它是落后。我不入流，这不要紧。我每一天开心，这才是重要的。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[处理Django的自增字段]]></title>
    <link href="http://cxh.me/2015/01/15/django-assign-autoincrement-field/"/>
    <updated>2015-01-15T22:00:00+08:00</updated>
    <id>http://cxh.me/2015/01/15/django-assign-autoincrement-field</id>
    <content type="html"><![CDATA[<p>  有时候需要手动构造一个Django model对象并保存，遇到如下的情况：</p>

<pre><code>model定义如下：
class AuthHistory(models.Model):
user_name = models.CharField(max_length=100, default=None)
item_id = models.CharField(max_length=100)
datetime = models.DateTimeField()
url = models.CharField(max_length=1000)
title = models.CharField(max_length=1000)
operation = models.CharField(max_length=100, default=None)

构造对象如下：
history = AuthHistory("cxh", tid, datetime.datetime.now(), item['url'], item['title'], operation)
</code></pre>

<p>  报错:<code>django title invalid literal for int() with base 10:cxh</code>，明显是把第一个字段赋给自增长id了，因为Django会给没有主键的表直接加上id字段作为主键。</p>

<p>  手动指定域当然是可以的：</p>

<pre><code>history = AuthHistory( user_name="cxh", item_id=tid, datetime=datetime.datetime.now(), url=item['url'], title=item['title'], operation=operation)
</code></pre>

<p>  但是未免很麻烦。传值肯定不合理，毕竟id是数据库记录的。试了一下，给id域直接传NULL就行了。</p>

<pre><code>history = AuthHistory(None, "cxh", tid, datetime.datetime.now(), item['url'], item['title'], operation)
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[用maven执行java程序]]></title>
    <link href="http://cxh.me/2015/01/15/maven-execute-java-program/"/>
    <updated>2015-01-15T17:08:00+08:00</updated>
    <id>http://cxh.me/2015/01/15/maven-execute-java-program</id>
    <content type="html"><![CDATA[<p>  Eclipse中需要执行一个java程序的之后只需要在入口类Run就行，但是有时候需要同时开两个程序，尤其对C/S模式的应用来说。针对这种情况，可以分如下三种方式启动另一个程序：</p>

<ol>
<li><p> java -cp 指定的类。shell（或者ZSH才有）下貌似是会有提示如下：</p>

<p><img class="img-polaroid center" src="http://cxh.me/images/2015/javacp.png"></p>

<p>以上方式至少需要保证用到的jar都在classpath中。</p></li>
<li><p> 从eclipse中copy执行命令。去调试页面，查看刚才执行的command的属性页面。会看到如下界面，copy命令到shell中执行即可。</p>

<p><img class="img-polaroid center" src="http://cxh.me/images/2015/eclipse_command.png"></p></li>
<li><p> maven execute。 命令类似：</p>

<pre><code>mvn exec:java -Dexec.mainClass=boot.BootStrap
</code></pre>

<p>注意是第二个exec后是点，不是：，另外如果有多模块，在root project下需要加module:</p>

<pre><code>mvn exec:java -pl xxx -Dexec.mainClass=boot.BootStrap 
</code></pre></li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Django自定义Filter]]></title>
    <link href="http://cxh.me/2015/01/14/django-custom-filter/"/>
    <updated>2015-01-14T13:29:00+08:00</updated>
    <id>http://cxh.me/2015/01/14/django-custom-filter</id>
    <content type="html"><![CDATA[<p>  遇到这样一个问题：Django中有字段是根据位来存储信息的，并且不是对应Model数据库中的字段，BitField使用起来比较不太适合。这样就得在模板中根据位来显示不同的内容。查Django并试验，好像位操作不能直接写在if操作符中，同时django也不支持在模板直接调用函数。一个合理的选择是建立自定义的Filter。详见<a href="https://docs.djangoproject.com/en/1.7/howto/custom-template-tags/" title="Custom template tags and filters">参考文献</a>。基本代码如下：</p>

<pre><code>配置：
mSohuConf={
    "A_mask" : 0x04,
    "B_mask" : 0x02,
    "C_mask" : 0x01,
}

Filter代码：
from django import template
from django.utils.safestring import mark_safe
from .. import config
register = template.Library()
mask_html = (
    (config.mSohuConf['A_mask'], '&lt;span class="label label-danger"&gt;A&lt;/span&gt;'),
    (config.mSohuConf['B_mask'], '&lt;span class="label label-warning"&gt;B&lt;/span&gt;'),
    (config.mSohuConf['C_mask'], '&lt;span class="label label-info"&gt;C&lt;/span&gt;'),
)
default_html = '&lt;span class="label label-default"&gt;D&lt;/span&gt;'
@register.filter()
def news_tag(value):
    output = default_html
    for mask, html in mask_html:
        if value &amp; mask:
            output += html +'\n'
    return mark_safe(output)

模板：
{\% load news_tag \%}
&lt;td&gt;&lt;/td&gt;
</code></pre>

<!--more-->


<p>  需要注意的有：</p>

<ol>
<li> mark_safe是必须的，否则会被自动escape。</li>
<li> 使用的时候需要load。写的时候需要register声明或者手动声明。</li>
<li> 文档说必须重启才能使用新的标签。目测不用。</li>
</ol>


<p>  多参数的列子如下：</p>

<pre><code>@register.filter()
def news_op(status, id):
    if status &amp; config.mSohuConf['A_mask']:
        output = '&lt;a href="http://cxh.me/xxx/%d/%d/" title="xxx"&gt;xxx&lt;/a&gt;'%(news_id, status)
    else:
        output = '&lt;a href="http://cxh.me/xxx/%d/%d/" title="xxx"&gt;xxx&lt;/a&gt;'%(news_id, status)
    return mark_safe(output)

模板：
</code></pre>

<p>   毕竟还是不太方便。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[新的征途]]></title>
    <link href="http://cxh.me/2015/01/12/new-startup/"/>
    <updated>2015-01-12T23:17:00+08:00</updated>
    <id>http://cxh.me/2015/01/12/new-startup</id>
    <content type="html"><![CDATA[<p>  晚上去看了《一代宗师》3D。3D效果比较一般，基本是字幕3D。但是感觉依然是王家卫那种感觉。故事讲的更清楚了，但是也就少了很多想象的空间。</p>

<p>  突然觉得嘉华还不错，会员生日可以免费观影一场，还有爆米花套餐。最近心情抑郁，突然收到这个gift，觉得幸福感好高。就像昨天收到快递里面有个卖家送的幸运豆就高兴了好久。不是低潮的时候往往忽视这些细小的幸福。</p>

<p>  最近总在回想人生走过的路，觉得多走了好多弯路。说人生无悔，都是赌气的话。人生若是真的无悔，那该多无趣啊。宫二的这句话，确实勾起了很多感触。27岁的生日，新的开始。全新的自己，打点行装，坚定的走下去。</p>

<p>  <img class="img-polaroid center" src="http://cxh.me/images/2015/yidaizongshi.jpg"></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[我的治牙经历]]></title>
    <link href="http://cxh.me/2015/01/12/perience-of-curing-my-teeth/"/>
    <updated>2015-01-12T17:02:00+08:00</updated>
    <id>http://cxh.me/2015/01/12/perience-of-curing-my-teeth</id>
    <content type="html"><![CDATA[<p>  2015.1.12，生日，去做了第一轮刮治的第一次治疗。痛不欲生啊。</p>

<p>  11月的时候查出来牙周有问题，其实很早就觉得不好了，洗牙之前没去看。洗牙的时候拍了牙片，槽骨吸收的很厉害了。中间又拖了两个月，一个是忙，一个是没挂上号，终于上周去北大口腔挂了号。医生说很严重，侵袭性牙周炎，牙周袋太深，可能还是得手术。</p>

<p>  今天第一次刮治。感慨牙这个东西，不意识到的时候不会觉得他的重要，上周探完牙周袋深度就疼了一个周，这次更是痛不欲生的感觉，打了麻药还是这样。而且奇怪的是手刮并不怎么疼，疼的还是超声洗牙石的部分。唯一的安慰是大夫态度都不错。牙科的大夫mm居多，虽然带着口罩都看不清楚长相&hellip;</p>

<p>  以前还是不重视啊。家庭上也整体不重视。中国还是有很多落后的地方，理念上这么多年都没有更新过来。联想到公务员热和中国父母普遍的求稳定，觉得理念真是落后太多了。至于过年各种嘘寒问暖的亲戚&hellip;哎，你们没有隐私这个观念么&hellip;还好我家人父母不太执着这些事情，就是说说算了&hellip;或者我压根没当真过..</p>

<p>  总的来说。长大了，要慢慢消除家庭的影响。有独立的思考了，就要慢慢消除教育的影响。离开了熟悉的环境，就要慢慢消除文化的影响。保持一个open的心态，不断质疑以前形成的思维定势，才能走出去，走的远。</p>

<hr />

<p>  此贴持续更新，毕竟还有四到五轮的刮治，每轮又要分多次，之后如果做牙周手术，又有得受了。立贴为记录吧。</p>

<p>  今天才注意到北大口腔的字还是老江题的。联想到今天疼爽了的经历，真是excited啊</p>

<p>  <img class="img-polaroid center" src="http://cxh.me/images/2015/excited.png"></p>

<hr />

<p>  第二次刮治，右上右下。倒是比第一次疼痛减轻多了，不过上次刮治之后都是臼齿吃饭，这下吃饭比较成问题。另外麻药的持久感好强，感觉右半边脸好像不存在一样。</p>

<p>  下周继续。第一轮三次完成。大夫比较辛苦。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[致我的生日]]></title>
    <link href="http://cxh.me/2015/01/12/to-my-birthday/"/>
    <updated>2015-01-12T00:11:00+08:00</updated>
    <id>http://cxh.me/2015/01/12/to-my-birthday</id>
    <content type="html"><![CDATA[<p>  要27了。</p>

<p>  突然有很多感慨，自从不怎写字之后也不怎么愿意表达了。习惯了工作占据大部分时间。好在工作也不见得完全是工作，还是有兴趣的成分在里面，重合度就看心情了。但是工作多了就有种麻木的感觉，觉得似乎不是我想要的人生。</p>

<p>  时代发展好快。这似乎已经不是个小资的时代。从学生时代走过来，毕业的热闹一过去，感觉立马进入了快车道。这一年马不停蹄，一身风尘一身疲惫。去阿里就不是什么明智的选择，当时可能是头脑一热吧，也可能是觉得很不屑研究生跟着导师做的东西，非要找一个技术上（看起来）高深莫测的地方。一年下来觉得开始是有兴趣，后来感觉是个挑战，最后感觉就是负担的。跳槽之后心境平和多了，现在至少已经不恨或者不黑什么了，这点还是挺感激张老板和我们组的。人嘛，到了奔三的年纪，还是要客观一些。</p>

<p>  最近过得有些抑郁。以前无论什么事情都没觉得怎么样，牙这个事情真是无力吐槽。明天去定治疗方案。所以牙好的亲们，这是一笔财富啊，想吃点好的就吃吧，不要在乎钱。</p>

<p>  晚上在搜狐的楼上，看着夕阳晚霞雾霾，觉得真是感慨。从毕业过来快十年了，似乎有所收获，又似乎一事无成。被卷在时代的洪流里面，想抓住什么又没有方向。不过也正常。鸡汤的东西读多了，就不容易被忽悠了，这个时代哪有那么多高大上的故事，每一点成长都是在无比纠结里面过来的。</p>

<p>  不过好在还年轻，心态还年轻。慢慢终于可以把自己放到一个独立的位置上，觉得如此就自由了很多。想走什么路，不用在瞻前顾后。总想着回来，就走不远哪。</p>

<p>  好没有逻辑。</p>

<p>  不过也不需要逻辑了。该治牙治牙，该工作工作，该生活生活。本来就没有什么逻辑。趁年轻，想做什么就去做。</p>

<p>  嗯。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[redhat下升级python]]></title>
    <link href="http://cxh.me/2015/01/11/redhat-upgrade-python/"/>
    <updated>2015-01-11T18:56:00+08:00</updated>
    <id>http://cxh.me/2015/01/11/redhat-upgrade-python</id>
    <content type="html"><![CDATA[<p>  偶然发现服务器上的python是2.4的，好多语法都不支持。遂决定升级。</p>

<p>  首先yum升级是可以升级到2.6的：</p>

<pre><code>yum install python26
yum install python26-devel
yum install python26-setuptools
ln -s /usr/bin/python2.6 /usr/bin/python
</code></pre>

<p>  升级之后发现yum不能用了。yum应该是跟python版本绑定了，于是把yum头部改成：</p>

<pre><code>#!/bin/python2.4
</code></pre>

<p>  之后发现2.6还是不行&hellip;我是用了多新的语法啊&hellip;就是几个dict comprehension。于是决定升级到2.7。源里面没有，只能手动。</p>

<pre><code>#wget http://python.org/ftp/python/2.7.3/Python-2.7.3.tar.bz2  
#tar -jxvf Python-2.7.3.tar.bz2
#cd Python-2.7.3  
#./configure  
#make all             
#make install
#ln -s /usr/local/bin/python2.7 /usr/bin/python  
</code></pre>

<p>  安装setup-tools</p>

<pre><code>wget https://pypi.python.org/packages/source/s/setuptools/setuptools-11.3.1.zip --no-check-certificate
unzip setuptools-11.3.1.zip
cd setuptools-11.3.1
python setup.py install
</code></pre>

<p>  yum不用动了。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[通过搭建代理来共享网络]]></title>
    <link href="http://cxh.me/2015/01/11/linux-proxy-setup/"/>
    <updated>2015-01-11T17:16:00+08:00</updated>
    <id>http://cxh.me/2015/01/11/linux-proxy-setup</id>
    <content type="html"><![CDATA[<p>   遇到这样一个问题，开发机只有一台能上外网，其他的机器上手动更新依赖包简直是要死的感觉。尝试了如下几种方式：</p>

<ol>
<li>. vpn

<ol>
<li><a href="http://5323197.blog.51cto.com/5313197/1285738" title=" centos6.4 安装配置 pptp vpn">pptp</a></li>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-setup-and-configure-an-openvpn-server-on-centos-6" title="How to Setup and Configure an OpenVPN Server on CentOS 6 | DigitalOcean">openvpn</a></li>
</ol>
</li>
<li>. ssh反向代理（其实不是干这个事情的貌似）</li>
<li>. proxy</li>
</ol>


<p>   开始一直不想用proxy，毕竟需要为yum什么的单独配置，不是所有的程序都会去读shell的http_proxy配置。但是vpn配置搞了一天都不成功。openvpn能连接，但是不能共享网络，大概是路由配错了，pptp linux下直接链接不上，可能是只用了chap的握手？反正没成功。最后还是配了proxy，配完才觉得proxy简单易行啊，大部分问题能解决，出现了特别的需求就单独为其设置代理好了。问题不大。</p>

<p>   tinyproxy的配置如下：</p>

<pre><code>yum install tinyproxy

# vi /etc/tinyproxy/tinyproxy.conf
Allow 192.168.1.0/24 # 限制可以使用Proxy的来源网段

service tinyproxy start

shell配置：
export http_proxy='xxx:8888'
export https_proxy='xxx:8888'

yum配置：
vi /etc/yum.conf
  proxy=http://xxxx:8888
ConnectPort 443     
</code></pre>

<p>  配置难度真不是一个数量级的，可见有时候能满足大部分情况，就是最好的解决方案了。</p>

<p>  <strong>补充：easy_install和pip是默认读取http_proxy的，但是一直不能连接。尝试了很久之后发现是sudo的问题，sudo环境没有执行.bashrc，所以root的http_proxy和当前用户的http_proxy都没有生效。su到root下就可以了。</strong></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[自动生成octopress的分类目录]]></title>
    <link href="http://cxh.me/2015/01/10/octopress-category-auto-generate/"/>
    <updated>2015-01-10T22:28:00+08:00</updated>
    <id>http://cxh.me/2015/01/10/octopress-category-auto-generate</id>
    <content type="html"><![CDATA[<p>  在octopress里面添加一个分类的时候，经常会遇到分类跟导航页面没有同步更新的情况，即加了一个分类，生成了文章，文章被生成在指定的路径下了，但是首页导航栏的分类没有跟着更新。针对这种情况，修改了一下Rakefile，把分类做成了配置，添加分类的时候可以直接修改一下分类信息，然后<code>rake gen</code>就可以生成对应的导航栏html代码。</p>

<p>  修改如下（我以前增加过交互的提示选择分类的功能），需要解释的有如下几点：</p>

<ol>
<li> &ldquo;&mdash;&mdash;&#8221;是分割线，-的数量不能都一样，毕竟是作为map的key的。</li>
<li> 分类做成map是因为category生成的时候名字自动做成了英文/拼音/中横线的形式&hellip;我没搞明白怎么弄的。所以自己手动填一下好了。以后有空想做成手动指定的。</li>
<li> system sublime那个是自动打开sublime写博客。我不习惯用vim写中文的博客&hellip;</li>
</ol>


<!--more-->


<p>  配置部分</p>

<pre><code>category_path ='source/_includes/categories.html'
categories={
    "技术相关"=&gt;{
        "软件发布"=&gt;"ruan-jian-fa-bu",
        "---------"=&gt;"",
        "C++"=&gt;"c-plus-plus",
        ".Net"=&gt;"dot-net",
        "Flex"=&gt;"flex",
        "基础理论"=&gt;"ji-chu-li-lun",
        "Latex"=&gt;"latex",
        "Linux"=&gt;"linux",
        "MFC"=&gt;"mfc",
        "Oceanbase"=&gt;"oceanbase",
        "分布式系统"=&gt;"fen-bu-shi-xi-tong",
        "PHP"=&gt;"php",
        "Java"=&gt;"java",
        "Python"=&gt;"python",
        "vim"=&gt;"vim",
        "web相关"=&gt;"web",
        "其他"=&gt;"others",
        "----------"=&gt;"",
        "IT人生"=&gt;"ai-ti-ren-sheng",
    },
    "世情百态"=&gt;"shi-qing-bai-tai",
    "摄影"=&gt;"she-ying",
    "随笔" =&gt;"sui-bi" }
</code></pre>

<p>  rake gen生成导航的html的部分。</p>

<pre><code>desc "Generate jekyll site"
task :gen do
    html=''
    for key,value in categories
        if value.is_a?(Hash)
            html &lt;&lt; '&lt;li class="dropdown"&gt;' &lt;&lt; "\n"
            html &lt;&lt; '&lt;a data-toggle="dropdown" class="dropdown-toggle" href="#"&gt;%s&lt;b class="caret"&gt;&lt;/b&gt;&lt;/a&gt;'%[key] &lt;&lt; "\n"
            html &lt;&lt; '&lt;ul class="dropdown-menu"&gt;' &lt;&lt; "\n"
            for key,value in value
                if key.start_with?('-')
                    html &lt;&lt; "\t"'&lt;li class="divider"&gt;&lt;/li&gt;' &lt;&lt; "\n"
                else
                    html &lt;&lt; "\t"'&lt;li&gt;&lt;a href="http://cxh.me/category/%s"&gt;%s&lt;/a&gt;&lt;/li&gt;'%[value, key.strip] &lt;&lt; "\n"
                end
            end
            html &lt;&lt; '&lt;/ul&gt;' &lt;&lt; "\n"
            html &lt;&lt; '&lt;/li&gt;' &lt;&lt; "\n"
        else
            html &lt;&lt; '&lt;li&gt;&lt;a href="http://cxh.me/category/%s"&gt;%s&lt;/a&gt;&lt;/li&gt;'%[value, key.strip] &lt;&lt; "\n"
        end
    end
    File.open(category_path, 'w') { |file| file.write(html) }
end
</code></pre>

<p>  交互提示分类并generate new post的部分。</p>

<pre><code># usage rake new_post[my-new-post] or rake new_post['my new post'] or rake new_post (defaults to "new-post")
desc "Begin a new post in #{source_dir}/#{posts_dir}"
task :new_post, :title, :category do |t, args|
  if args.title
    title = args.title
  else
    title = get_stdin("Enter a title for your post: ")
  end
  if args.category
    category = args.category
  else
    #output an array
      category_arr = []
      category_idx = 0
      puts "===================================================="
      for key,value in categories
          if value.is_a?(Hash)
              puts key
              for key,value in value
                  if not key.start_with?('-')
                      puts "%d\t%s"%[category_idx, key]
                      category_arr.push(key)
                      category_idx +=1
                  end
              end
          else
              puts "%d %s"%[category_idx, key]
              category_arr.push(key)
              category_idx +=1
          end
      end
      puts "===================================================="
    i = get_stdin("Enter a title for your category: ")
    category = category_arr[Integer(i)].gsub(/\s/,'')
  end

  raise "### You haven't set anything up yet. First run `rake install` to set up an Octopress theme." unless File.directory?(source_dir)
  mkdir_p "#{source_dir}/#{posts_dir}"
  filename = "#{source_dir}/#{posts_dir}/#{Time.now.strftime('%Y-%m-%d')}-#{title.to_url}.#{new_post_ext}"
  system "echo #{filename} |xclip -i -selection clipboard "
  if File.exist?(filename)
    abort("rake aborted!") if ask("#{filename} already exists. Do you want to overwrite?", ['y', 'n']) == 'n'
  end
  puts "Creating new post: #{filename}"
  open(filename, 'w') do |post|
    post.puts "---"
    post.puts "layout: post"
    post.puts "title: \"\""
    post.puts "date: #{Time.now.strftime('%Y-%m-%d %H:%M')}"
    post.puts "comments: true"
    post.puts "published: true"
    post.puts "categories: \"#{category.gsub(/&amp;/,'&amp;amp;')}\""
    post.puts "---"
  end
  system "LD_PRELOAD=~/repo/scripts/libsublime-imfix.so nohup ~/share/sublime/sublime_text #{filename} &gt;/dev/null 2&gt;&amp;1 &amp;"
end
</code></pre>

<p>  修改custom/navigation.html，让导航部分导入生成的categories.html</p>

<pre><code>&lt;ul class="nav"&gt;
    &lt;li&gt;&lt;a href="http://cxh.me/blog/archives"&gt;Archives&lt;/a&gt;&lt;/li&gt;
    &lt;li class="divider-vertical"&gt;&lt;/li&gt;
    {\% include categories.html \%}
&lt;/ul&gt;
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[关于java编码规范]]></title>
    <link href="http://cxh.me/2015/01/08/java-code-style/"/>
    <updated>2015-01-08T14:34:00+08:00</updated>
    <id>http://cxh.me/2015/01/08/java-code-style</id>
    <content type="html"><![CDATA[<p>  首先推荐<a href="https://google-styleguide.googlecode.com/svn/trunk/javaguide.html" title="Google Java Style">google的编码规范</a>，其次，关于class member ordering的问题，google的解释是：</p>

<pre><code>The ordering of the members of a class can have a great effect on learnability, but there is no single correct recipe for how to do it. Different classes may order their members differently.

What is important is that each class order its members in some logical order, which its maintainer could explain if asked. For example, new methods are not just habitually added to the end of the class, as that would yield "chronological by date added" ordering, which is not a logical ordering.
</code></pre>

<p>  道理是对的，但是不好执行啊。看了看JDK的顺序，觉得<a href="http://stackoverflow.com/questions/4668218/are-there-any-java-method-ordering-conventions" title="Are there any Java method ordering conventions?">这里</a>说的还是能达成共识的。</p>

<blockquote><ol>
<li>Class (static) variables: First the public class variables, then the protected, and then the private.</li>
<li>Instance variables: First public, then protected, and then private.</li>
<li>Constructors</li>
<li>Methods: These methods should be grouped by functionality rather than by scope or accessibility. For example, a private class method can be in between two public instance methods. The goal is to make reading and understanding the code easier.</li>
</ol>
</blockquote>

<h3>参考文献:</h3>

<blockquote><p>[1] Google Java Style, <a href="https://google-styleguide.googlecode.com/svn/trunk/javaguide.html">https://google-styleguide.googlecode.com/svn/trunk/javaguide.html</a></p>

<p>[2] Are there any Java method ordering conventions?, <a href="http://stackoverflow.com/questions/4668218/are-there-any-java-method-ordering-conventions">http://stackoverflow.com/questions/4668218/are-there-any-java-method-ordering-conventions</a></p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[源于一个文字游戏的题目]]></title>
    <link href="http://cxh.me/2015/01/05/a-word-puzzle/"/>
    <updated>2015-01-05T20:31:00+08:00</updated>
    <id>http://cxh.me/2015/01/05/a-word-puzzle</id>
    <content type="html"><![CDATA[<p>  起源是这样一道题目：</p>

<p>  <img class="img-polaroid center" src="http://cxh.me/images/2015/word_puzzle.png"></p>

<p>  于是想到通过word dict来算一下：</p>

<p>  先去下载了中文词库：</p>

<pre><code>git clone git@github.com:ling0322/webdict.git 
</code></pre>

<p>  然后去掉词频信息：</p>

<pre><code>awk  '{ if (length($1)==2) print $1}' webdict_with_freq.txt &gt;webdict.txt
</code></pre>

<p>  先按照出现位置来正则过滤候选集，并且去掉大/日/风/思四个字：</p>

<pre><code>grep '^大.*' webdict.txt| sed 's/大//g' &gt;da.txt
grep '^日.*' webdict.txt| sed 's/日//g' &gt;ri.txt
grep '.*风$' webdict.txt| sed 's/风//g' &gt;feng.txt
grep '.*思$' webdict.txt| sed 's/思//g' &gt;si.txt  
</code></pre>

<p>  之后的事情就很有意思了，每次join两个文件，因为大/日/风/思四个字是没有交集的，所以结果就是要求的字：</p>

<pre><code>comm -12 &lt;(sort da.txt|uniq ) &lt;(sort ri.txt|uniq ) &gt;da_ri.txt
comm -12 &lt;(sort feng.txt|uniq ) &lt;(sort da_ri.txt|uniq ) &gt;da_ri_feng.txt
comm -12 &lt;(sort si.txt|uniq ) &lt;(sort da_ri_feng.txt|uniq ) &gt;da_ri_feng_si.txt
</code></pre>

<p>  最后的<del>凶手</del>答案只有一个：</p>

<p>  <img class="img-polaroid center" src="http://cxh.me/images/2015/result.png"></p>

<p>  谢谢观看～。</p>

<h3>参考文献:</h3>

<blockquote><p>[1] LINUX Shell 下求两个文件交集和差集的办法, <a href="http://blog.csdn.net/autofei/article/details/6579320">http://blog.csdn.net/autofei/article/details/6579320</a></p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[django重定向的参数传递]]></title>
    <link href="http://cxh.me/2015/01/05/django-redirect-render/"/>
    <updated>2015-01-05T15:55:00+08:00</updated>
    <id>http://cxh.me/2015/01/05/django-redirect-render</id>
    <content type="html"><![CDATA[<p>  其实就是想实现如下一个功能，重定向到一个网页，但是这个网页根据传参的不同显示不同的内容。基于Django各种render的shortcut理所当然的想有没有render_redirect，但是想想网络请求的流程，redirect只是返回了一个302，让浏览器直接去请求新的网页了，首先这个response很简单没有携带其他信息，此外，浏览器也不会把302code和url之外的内容作为下一次请求的参数。</p>

<p>  可行的办法还是用get参数。针对遇到的需求：传入不同的参数的时候在不同的div上显示class=active，我们可以简化的实现如下：</p>

<pre><code>模板：
  &lt;div role="tabpanel" class="tab-pane " id="a"&gt;
  &lt;div role="tabpanel" class="tab-pane " id="b"&gt;
  &lt;div role="tabpanel" class="tab-pane " id="c"&gt;
后台：
  init = request.GET.get('init', 'a')#a是默认active的tab
  return render(request, 'xx.html', {init:'active'})
跳转：
  return HttpResponseRedirect("/?init=b")
</code></pre>

<p>  直接用传入参数当了render参数的名字。<code>request.GET.get('init', 'a')</code>保证了无参数的时候active a作为默认值。django容错保证了没有的变量置空。基本够用了。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[在Python字典解析中进行update]]></title>
    <link href="http://cxh.me/2015/01/05/python-dict-update-in-comprehensions/"/>
    <updated>2015-01-05T13:25:00+08:00</updated>
    <id>http://cxh.me/2015/01/05/python-dict-update-in-comprehensions</id>
    <content type="html"><![CDATA[<p>  遇到这样一个事情，从一个Thrift源取回部分数据，结构是一个对象数组，根据其中所有的Id字段从数据库又取回另一部分数据，结构是一个字典数组。那么问题来了，<del>挖掘机技术哪家强</del>如何按照id合并两份数据?</p>

<p>  这其实就是JOIN，也就两种做法，nested loop join和hash join（这些词都是在ob的时候听到的，其实道理很简单）。做nested loop join的话，最好按排序，做hash join的话，就需要把其中一份数据的变成以id字段为key的字典。这里我们选择后一种，python代码实现起来比较简洁。前一种貌似只能for循环搞下标，不知道有没有直接的built in function。</p>

<p>  代码比较简单，就是遇到了一个有代表性的问题：</p>

<pre><code>results = [result.update(items[result['id']])) for result in results]
</code></pre>

<p>  id字段是join的key，results是从数据库取到的，items是从thrift取到的。关键问题在于update的结果是None，result是被原地修改的。所以需要改成下面：</p>

<pre><code>results = [dict(result.items() + items[result['id']].items()) for result in results]
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Eclipse调试的时候出现class not found]]></title>
    <link href="http://cxh.me/2015/01/05/eclipse-class-not-found/"/>
    <updated>2015-01-05T09:50:00+08:00</updated>
    <id>http://cxh.me/2015/01/05/eclipse-class-not-found</id>
    <content type="html"><![CDATA[<p>  昨天遇到这样一个问题：</p>

<p>  <img class="img-polaroid center" src="http://cxh.me/images/2015/classnotfound.png"></p>

<p>  开始以为是依赖的问题，更新了所有的jar包和Maven依赖，发现没有什么问题。怀疑是eclipse，写了一个简单的程序，发现一样找不到class。</p>

<p>  解决办法是先把breakpoint里面的ClassNotFoundException: caught and uncaught去掉了。不知道为什么会造成这个结果。</p>

<p>  <img class="img-polaroid center" src="http://cxh.me/images/2015/breakpoint.png"></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Linux上的远程log监控]]></title>
    <link href="http://cxh.me/2015/01/04/linux-remote-log-watch/"/>
    <updated>2015-01-04T17:34:00+08:00</updated>
    <id>http://cxh.me/2015/01/04/linux-remote-log-watch</id>
    <content type="html"><![CDATA[<p>  名字太大，其实只是遇到了一个问题，想远程实时看一个log文件的变化。开始是这么做的。</p>

<pre><code>vim 里面 :e scp://xxx@xxx//filePath
:e! 来刷新
</code></pre>

<p>   太low了。直接用ssh：</p>

<pre><code>ssh xx@xxx "less filePath"
</code></pre>

<p>   发现less直接就退出了。 换成:</p>

<pre><code>ssh -t xx@xxx "less filePath"
</code></pre>

<p>   也不能实时刷新。测试less 本地一个文件同时写入，发现less没有实时刷新的功能。看来是在ob的时候deploy给我的错觉啊。</p>

<p>   换tail:</p>

<pre><code>ssh -t xx@xxx "tail filePath"
</code></pre>

<p>   还是直接执行完毕退出。查tail有没有自动刷新的模式，有一个follow：</p>

<pre><code>ssh xx@xx "tail -f filePath"
</code></pre>

<p>   搞定。<em>配合[TMux]绝对好用</em>。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[git中删除已经缓存的文件]]></title>
    <link href="http://cxh.me/2015/01/04/del-cached-files-in-git/"/>
    <updated>2015-01-04T16:49:00+08:00</updated>
    <id>http://cxh.me/2015/01/04/del-cached-files-in-git</id>
    <content type="html"><![CDATA[<p>  经常遇到一种情况，开始项目的时候没加.gitignore文件，提交之后发现有大量的pyc文件残留，这样两地共同修改的时候pyc文件会造成大量的冲突。针对这种情况，可以如下解决：</p>

<ol>
<li><p> 建立.gitignore文件并写入：</p>

<pre><code>.pyc
.swp
</code></pre></li>
<li><p> 删除所有缓存中的数据：</p>

<pre><code>find . -name '*.pyc' -o -name '*.swp' &gt; /tmp/files
while read line; do
    git rm --cached $line
done &lt; /tmp/files
</code></pre></li>
<li><p> 在冲突的一端回滚所有pyc冲突：</p>

<pre><code>find . -name '*.pyc' -o -name '*.swp' &gt; /tmp/files
while read line; do
    git checkout -f  $line
done &lt; /tmp/files
</code></pre></li>
<li><p> 冲突的一端更新修改：</p>

<pre><code>git pull origin
</code></pre></li>
</ol>


<p>  补充：</p>

<p>  蛋疼了&hellip;直接这样就行了</p>

<pre><code>git rm --cached `find . -name '*.pyc' -o -name '*.swp'`

或者 find . -name '*.pyc' -o -name '*.swp' -exec git rm --cached {} \; 
</code></pre>

<p>  忘了这些命令都接受多个参数&hellip;.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Thrift依赖和Slf4j]]></title>
    <link href="http://cxh.me/2014/12/25/thrift-and-slf4j/"/>
    <updated>2014-12-25T18:24:00+08:00</updated>
    <id>http://cxh.me/2014/12/25/thrift-and-slf4j</id>
    <content type="html"><![CDATA[<p>  用Thrift做一个分布式系统的RPC，发现跑起来的时候总提示<code>Failed to load class org.slf4j.impl.StaticLoggerBinder</code>，看了看maven依赖感觉没啥问题啊，slf4j-api-xx.jar好好的在呢。分析了maven的依赖，eclipse的问题，最后发现都没问题啊。最后发现还是不了解slf4j，以为跟log4j一样的，其实作为一个proxy，slf4j-api只是一套接口，实现的依赖没有添加进来。</p>

<p>   Thrift的依赖加进来的时候（如下），Dependency Hierachy解析会添加相关的包，但是只添加了slf4j-api，动态编译也不会出错，毕竟接口都有了，但是运行时从classpath找不到对应的包。</p>

<pre><code>  &lt;dependency&gt;
    &lt;groupId&gt;org.apache.thrift&lt;/groupId&gt;
    &lt;artifactId&gt;libthrift&lt;/artifactId&gt;
    &lt;version&gt;0.8.0&lt;/version&gt;
  &lt;/dependency&gt;
</code></pre>

<p>  在上面的基础上要加入一个任意一个slf4j-api的实现：</p>

<pre><code>Placing one (and only one) of slf4j-nop.jar, slf4j-simple.jar, slf4j-log4j12.jar, slf4j-jdk14.jar or logback-classic.jar on the class path should solve the problem.
</code></pre>

<p>  另外libthrift的pom默认依赖的slf4j-api应该是1.5.8，可能会出现如下不兼容的情况：</p>

<pre><code>SLF4J: The requested version 1.5.8 by your slf4j binding is not compatible with [1.6, 1.7]
SLF4J: See http://www.slf4j.org/codes.html#version_mismatch for further details.
</code></pre>

<p>  可以对libthrift的POM加入例外：</p>

<pre><code>&lt;exclusions&gt;
    &lt;exclusion&gt;
        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;
        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;
    &lt;/exclusion&gt;
&lt;/exclusions&gt;
</code></pre>

<p>  每个实现详见<a href="http://blog.csdn.net/robert_mm/article/details/8197108" title=" slf4j-api、slf4j-log4j12以及log4j之间什么关系？">参考文献2</a></p>

<h3>参考文献:</h3>

<blockquote><p>[1] SLF4J warning or error messages and their meanings, <a href="http://www.slf4j.org/codes.html#StaticLoggerBinder">http://www.slf4j.org/codes.html#StaticLoggerBinder</a></p>

<p>[2]  slf4j-api、slf4j-log4j12以及log4j之间什么关系？, <a href="http://blog.csdn.net/robert_mm/article/details/8197108">http://blog.csdn.net/robert_mm/article/details/8197108</a></p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[关于Maven回滚了eclipse中项目的JRE版本]]></title>
    <link href="http://cxh.me/2014/12/25/maven-revert-eclipse-jdk-version/"/>
    <updated>2014-12-25T14:49:00+08:00</updated>
    <id>http://cxh.me/2014/12/25/maven-revert-eclipse-jdk-version</id>
    <content type="html"><![CDATA[<p>  发现在命令行对一个项目执行<code>mvn install</code>的时候，回eclipse看就会有些错误，原因如<a href="http://cxh.me/2014/12/08/eclipse-java-override-warning/" title="关于eclipse里面override上的warning">这里</a>所说，JRE版本和compliance level被回滚到1.5了。查看配置发现，eclipse导入配置并没有设置这里。如下：</p>

<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;projectDescription&gt;
    &lt;name&gt;realtime_ua&lt;/name&gt;
    &lt;comment&gt;&lt;/comment&gt;
    &lt;projects&gt;
    &lt;/projects&gt;
    &lt;buildSpec&gt;
        &lt;buildCommand&gt;
            &lt;name&gt;org.eclipse.m2e.core.maven2Builder&lt;/name&gt;
            &lt;arguments&gt;
            &lt;/arguments&gt;
        &lt;/buildCommand&gt;
    &lt;/buildSpec&gt;
    &lt;natures&gt;
        &lt;nature&gt;org.eclipse.m2e.core.maven2Nature&lt;/nature&gt;
    &lt;/natures&gt;
&lt;/projectDescription&gt;
</code></pre>

<p>  实际导入的JRE版本是m2eclipse插件决定的。参考<a href="http://stackoverflow.com/questions/3539139/what-causes-a-new-maven-project-in-eclipse-to-use-java-1-5-instead-of-java-1-6-b" title="What causes a new Maven project in Eclipse to use Java 1.5 instead of Java 1.6 by default and how can I ensure it doesn't?">这里</a>加入对maven-compiler-plugin的默认配置即可：</p>

<pre><code>&lt;build&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
            &lt;configuration&gt;
              &lt;source&gt;1.6&lt;/source&gt;
              &lt;target&gt;1.6&lt;/target&gt;
            &lt;/configuration&gt;
        &lt;/plugin&gt;
  &lt;/plugins&gt;
&lt;/build&gt;
</code></pre>

<p>  多module项目请把配置直接加在root-project的pom.xml下。</p>

<!--more-->


<h3>参考文献:</h3>

<blockquote><p>[1] 关于eclipse里面override上的warning, <a href="http://cxh.me/2014/12/08/eclipse-java-override-warning/">http://cxh.me/2014/12/08/eclipse-java-override-warning/</a></p>

<p>[2] What causes a new Maven project in Eclipse to use Java 1.5 instead of Java 1.6 by default and how can I ensure it doesn&rsquo;t?, <a href="http://stackoverflow.com/questions/3539139/what-causes-a-new-maven-project-in-eclipse-to-use-java-1-5-instead-of-java-1-6-b">http://stackoverflow.com/questions/3539139/what-causes-a-new-maven-project-in-eclipse-to-use-java-1-5-instead-of-java-1-6-b</a></p>

<p>[3] Solved: Java compiler level does not match the version of the installed Java project facet, <a href="http://howtodoinjava.com/2013/06/04/solved-java-compiler-level-does-not-match-the-version-of-the-installed-java-project-facet/">http://howtodoinjava.com/2013/06/04/solved-java-compiler-level-does-not-match-the-version-of-the-installed-java-project-facet/</a></p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Flash Cookie的跨域读取]]></title>
    <link href="http://cxh.me/2014/12/12/flash-cookie-cross-domain/"/>
    <updated>2014-12-12T12:35:00+08:00</updated>
    <id>http://cxh.me/2014/12/12/flash-cookie-cross-domain</id>
    <content type="html"><![CDATA[<p>  关于Flash Cookie相关的问题见<a href="http://cxh.me/2014/11/25/flash-shared-cookie/" title="跨浏览器cookie">参考文献1</a>。这里主要说如何实现跨域的Flash Cookie读取。</p>

<p>  首先，我们要实现Js调用Flash插件。比较简单的实现是用<a href="https://code.google.com/p/swfobject/" title="swfobject">swfobject</a>。简单的示例代码如下：</p>

<pre><code>&lt;object id="myCom" name="myCom" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="0" height="0"&gt;
    &lt;param name="movie" value="http://xxx/xxx.swf" /&gt;
    &lt;param name="allowScriptAccess" value="always" /&gt;
    &lt;!--[if !IE]&gt;--&gt;
    &lt;object name="myCom" type="application/x-shockwave-flash" data="http://xxx/xxx.swf" width="0" height="0"&gt;
        &lt;param name="allowScriptAccess" value="always" /&gt;
    &lt;!--&lt;![endif]--&gt;
        &lt;div&gt;
            &lt;h1&gt;SWF Cannot be loaded!&lt;/h1&gt;
        &lt;/div&gt;
    &lt;!--[if !IE]&gt;--&gt;
    &lt;/object&gt;
    &lt;!--&lt;![endif]--&gt;
&lt;/object&gt;
</code></pre>

<!--more-->


<p>  js部分代码如下：</p>

<pre><code>    function callbackfn() {
        var obj = swfobject.getObjectById("myCom");
        if (obj &amp;&amp; typeof obj.getXXX != "undefined") {
            alert(obj.getXXX('xxx'));
        }
    };
    swfobject.registerObject("myCom", "9.0.0", "expressInstall.swf");
</code></pre>

<p>  具体含义参见如下swfobject的document：</p>

<ul>
<li>classid (outer object element only, value is always clsid:D27CDB6E-AE6D-11cf-96B8-444553540000)</li>
<li>type (inner object element only, value is always application/x-shockwave-flash)</li>
<li>data (inner object element only, defines the URL of a SWF)</li>
<li>width (both object elements, defines the width of a SWF)</li>
<li>height (both object elements, defines the height of a SWF)</li>
</ul>


<p>  跨域的问题上，需要注意如下几个：</p>

<ol>
<li><p> 调用object的组件的跨域声明是必须的。</p>

<pre><code>&lt;param name="allowScriptAccess" value="always" /&gt;
</code></pre></li>
<li><p> swf_url使用被访问域的swf链接。</p></li>
<li><p> 被访问的域根目录需要开放访问。crossdomain.xml需要开放跨域限制。当然像如下这种粗放的是不好的。（虽然很方便）</p>

<pre><code>&lt;cross-domain-policy&gt;
    &lt;allow-access-from domain="*" /&gt;
&lt;/cross-domain-policy&gt;
</code></pre></li>
<li><p> swf源码需要开放权限：</p>

<pre><code>System.security.allowDomain("yourhtmldomain.com");
</code></pre></li>
</ol>


<p>  OK.</p>
]]></content>
  </entry>
  
</feed>
