
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>CXH.ME</title>
  <meta name="author" content="Harry Chen">
  
  <meta name="description" content="北航本，清华硕，现就职于支付宝北京 方向分布式数据库。 文人，刀客，沦为程序员...">
  

  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://cxh.me/page/4">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/bootstrap/bootstrap.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/stylesheets/bootstrap/responsive.css" media="screen, projection" rel="stylesheet" type="text/css">
<script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
  <!--<script src="/javascripts/libs/jquery.js"></script>-->
  <script src="/javascripts/libs/modernizr-2.0.js"></script>
  <script src="/javascripts/libs/bootstrap.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="CXH.ME" type="application/atom+xml">
  <link href="/javascripts/google-code-prettify/prettify.css" media="screen, projection" rel="stylesheet" type="text/css">
<script type="text/javascript" src="/javascripts/google-code-prettify/prettify.js"></script>
<link href="/stylesheets/doc.css" media="screen, projection" rel="stylesheet" type="text/css">

  

</head>



<body   >
  <nav role="navigation"><div class="navbar navbar-inverse navbar-fixed-top">
  <div class="navbar-inner">
    <div class="container">
      <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </a>

      <a class="brand" href="/">CXH.ME</a>

      <div class="nav-collapse">
        <ul class="nav">
    <li><a href="/">Blog</a></li>
    <li><a href="/blog/archives">Archives</a></li>
    <li class="divider-vertical"></li>
    <li class="dropdown">
        <a data-toggle="dropdown" class="dropdown-toggle" href="#">技术相关<b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="/category/ruan-jian-fa-bu">软件发布</a></li>
            <li class="divider"></li>
            <li><a href="/category/c-plus-plus">C++</a></li>
            <li><a href="/category/dot-net">.Net</a></li>
            <li><a href="/category/flex">Flex</a></li>
            <li><a href="/category/ji-chu-li-lun">基础理论</a></li>
            <li><a href="/category/latex">Latex</a></li>
            <li><a href="/category/linux">Linux</a></li>
            <li><a href="/category/mfc">MFC</a></li>
            <li><a href="/category/oceanbase">Oceanbase</a></li>
            <li><a href="/category/others">其他</a></li>
            <li><a href="/category/php">PHP</a></li>
            <li><a href="/category/python">Python</a></li>
            <li><a href="/category/vim">vim</a></li>
            <li><a href="/category/web">web相关</a></li>
        </ul>
    </li>
    <li><a href="/category/ai-ti-ren-sheng">IT人生</a></li>
    <li><a href="/category/shi-qing-bai-tai">世情百态</a></li>
    <li><a href="/category/sui-bi">随笔</a></li>



</ul>


        <ul class="nav pull-right" data-subscription="rss">
          <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
          
        </ul>

        
          <form class="pull-right navbar-search" action="http://google.com/search" method="get">
            <fieldset role="search">
              <input type="hidden" name="q" value="site:cxh.me" />
              <input class="search-query" type="text" name="q" results="0" placeholder="Search"/>
            </fieldset>
          </form>
        
      </div>
    </div>
  </div>
</div>
</nav>
  <div class="container">
    <div class="row-fluid">
      <div class="span9">
  
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2011/09/23/php-apache-mysql-configuration-under-windows-x64/">Windows下64位PHP+Mysql+Apache的安装配置</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-09-23T00:00:00+08:00" pubdate data-updated="true">Sep 23<span>rd</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>实际上和32的差别并不大，写这篇文章的主要目的是给出可行的下载地址。</p>

<blockquote><p>PHPx64</p>

<p>Apachex64</p>

<p>Mysqlx64</p>

<p><a href="http://dl-sh-ocn-1.pchome.net/0t/fw/mysql-essential-5.0.90-winx64.rar" title="http://dl-sh-ocn-1.pchome.net/0t/fw/mysql-essential-5.0.90-winx64.rar">http://dl-sh-ocn-1.pchome.net/0t/fw/mysql-essential-5.0.90-winx64.rar
</a></p></blockquote>

<p>然后安装mysql，apache和php直接解压就行，php.ini做如下几处修改</p>

<pre><code>#扩展目录
extension_dir = "../php/ext"
#mysql扩展
extension=php_mysql.dll
#剩下的酌情自己配置
</code></pre>

<p>httpd.conf做如下几处修改</p>

<pre><code>#主目录
ServerRoot "D:/Program Files/httpd-2.2-x64"
#LoadPHP的模块
LoadModule php5_module "D:/Program Files/php/php5apache2_2.dll"
PHPIniDir "D:/Program Files/php/"
#文档目录
DocumentRoot "d:/temporary/php"
#文档目录的权限配置

#默认访问文件名
DirectoryIndex index.php default.php index.html
#解析文档类型，这里很重要，否则无法解析php
AddType application/x-httpd-php .php  .php4 .php5 .html
</code></pre>

<p>拷贝libmysql.dll（mysql的bin目录下）到system32和apache的bin目录。</p>

<p>以管理员身份运行命令行，执行如下命令</p>

<blockquote><p>httpd -k install</p></blockquote>

<p>在执行 httpd -k install 的时候，显示 The Apache2.2 service is successfully installed 表明已经安装成功。</p>

<p>然后执行</p>

<blockquote><p>httpd -k start</p></blockquote>

<p>启动apache即可。</p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2011/09/23/improvements-of-minibuf-explorer-plugin/">Vim 的MiniBufExplorer插件改进</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-09-23T00:00:00+08:00" pubdate data-updated="true">Sep 23<span>rd</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>首先，VI(M)是一种信仰。</p>

<p>然后扯一下关于MiniBufExplorer插件，主要的作用是实现缓冲区之间的切换，比BufExplorer更加小巧，界面如图所示，下载链接在这里</p>

<p><img src="http://www.roybit.com/wp-content/uploads/2011/09/image_thumb.png" title="image" alt="image" /></p>

<p>这个插件在windows下使用的问题主要是在切换的时候会切换到一个No Name的初始缓冲区，这样我本来打开了三个文件，却总在四个文件直接来回切换，同时默认的:bd删除缓冲区命令和:q关闭文件命令在windows下也存在一些问题，:bd不能关闭最后的窗口，:q又直接关闭几个缓冲区。</p>

<p>针对如上问题，做以下的改进</p>

<blockquote><p>1 修改MiniBufExplorer插件的切换代码，切换时不停留在No Name缓冲区</p>

<p>2 在_vimrc文件中重新绑定关闭快捷键的代码，加入窗口数的判断</p></blockquote>

<p>针对第一个问题，我们修改minibufexpl.vim里的如下代码</p>

<pre><code>" Skip any non-modifiable buffers, but don't cycle forever
" This should stop us from stopping in any of the [Explorers]
while (getbufvar(l:curBuf, '&amp;modifiable') == 0 || bufname('%')=='') &amp;&amp; l:origBuf != l:curBuf
</code></pre>

<p>主要是bufname为空（初始缓冲区）的时候再跳转一次。</p>

<p>针对第二个问题，我们在_vimrc文件中重定义绑定和退出函数</p>

<pre><code>" 如果只有一个窗口，那么直接退出
function! CustomExit()
    if (winbufnr(2) == -1)
        q
    else
        bd
    endif
endfunction

nmap wq :w:call CustomExit()
nmap q :call CustomExit()
nmap w :w
nmap x :bd!:call CustomExit()


nnoremap  :MBEbn
nnoremap  :MBEbp
</code></pre>

<p>最后，为了windows下使用方便，可以配置一下右键，请在regedit中添加如下项，然后默认值设置为&#8221;E:\Vim im73\gvim.exe&#8221; -p –remote-silent &ldquo;%1&#8221;，gvim路径请自行修改</p>

<p><img src="http://www.roybit.com/wp-content/uploads/2011/09/image_thumb1.png" title="image" alt="image" /></p>

<p>这样就可以用右键菜单打开gvim，打开两个以上文件的时候，可以用shift l shift h切换左右菜单，q退出文件等等。</p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2011/09/23/configuration-of-plugin-fenview-under-windows/">FencView插件在windows下的配置</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-09-23T00:00:00+08:00" pubdate data-updated="true">Sep 23<span>rd</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>坦白的讲，我没觉得这插件有什么用……</p>

<p>FencView的作用是Auto detect the file encoding. 自动探测编码，防止乱码的插件。但是_vimrc设置了内部编码之后，至少在Windows下我没遇到什么明显的乱码……</p>

<pre><code>set encoding=utf-8
set fileencodings=utf-8,gb2312,gb18030,gbk,ucs-bom,cp936,latin1 " 如果你要打开的文件编码不在此列，那就添加进去
set termencoding=utf-8
</code></pre>

<p>Windows下这插件主要的问题是找不到iconv，也正常，这么华丽丽的编码转换工具必然是linux下的，不过我们可以下载Libiconv for Windows，这样就可以在win下使用iconv了，下载地址如下：</p>

<p>然后记得配置一下环境变量</p>

<p><img src="http://www.roybit.com/wp-content/uploads/2011/09/image_thumb2.png" title="image" alt="image" /></p>

<p>当然你可能遇到找不到库的问题……去刚才的页面下载Dependencies吧</p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2011/09/22/eclipse-full-screen-plugin/">Eclipse全屏插件</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-09-22T00:00:00+08:00" pubdate data-updated="true">Sep 22<span>nd</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>其实eclipse全屏已经做得不错了，Ctrl M的切换速度也差强人意，只不过你如果是一个狂热的全屏主义者，你可能需要一个彻彻底底的absolutely的全屏插件。</p>

<p>下载之后只有一个文件，拷贝到plugin目录下就行，然后ctrl alt z切换全屏，但是作者明显没有考虑广大一边挂着QQ一边写的代码的群众们的实际情况，ctrl alt z已经被QQ强行霸占了，建议大家在window\prefrence\keys里重新绑定新的快捷键，比如alt shift enter之类的。效果如下所示</p>

<p><img src="http://www.roybit.com/wp-content/uploads/2011/09/full_thumb.png" title="full" alt="full" /></p>

<p>尊重作者版权，请移步这里下载</p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2011/09/18/methods-for-win7-to-coexist-with-several-linux/">Win7与多Linux并存的安装方法</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-09-18T00:00:00+08:00" pubdate data-updated="true">Sep 18<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>网上有很多使用EasyBCD从Win7下安装linux的方法，不过用来用去觉得EasyBCD还是有些问题，比如我装Fedora64就一直报错，而做成安装U盘就可以。而且大多数Linux在EasyBCD安装的时候都要求iso文件存放于Fat32的分区里，作为一个已经装了Win7的孩纸，在硬盘上划出一块Fat32的分区实属令人发指的行为。</p>

<p>这里推荐一个Linux官方的安装方法，首先下载Universal-USB-Installer，这文件很小，但是五脏俱全，包括了你可能见到的所有的Linux的……呃，选项。当然这软件还可以用来做Windows的安装盘。傻瓜化操作就不说了，不过记得每个选项对应一种Linux，包含了各种发行版，下载的iso最好不要改名，免得找不到。</p>

<p>安装的事情仁者见仁，修复Grub的问题智者见智。最简单的办法是先装Win7，因为Win7是不鸟各种Linux的（丫挺的），然后装个个版本的Linux，不过不要装GrubLoader，也就是不要把启动信息写入Mbr，最后装Ubuntu，伟大的乌邦图会识别各种Linux系统然后建立启动菜单。</p>

<p>当然你也可以先安装Ubuntu，然后装其他的Linux，同样不要安装Grub Loader，最后在Ubuntu下手动配置grub.cfg来驱动，不过最好的办法是使用</p>

<pre><code>sudo update-grub
</code></pre>

<p>让Ubuntu自动识别安装的Linux系统，你会看到激动人心的类似于如下界面的结果：<img src="http://www.roybit.com/wp-content/uploads/2011/09/ScreenshotcxhcxhThinkPadT420__thumb.png" title="Screenshot-cxh@cxh-ThinkPad-T420_ ~" alt="Screenshot-cxh@cxh-ThinkPad-T420_ ~" /></p>

<p>如果想让Win7默认启动，可以在ubuntu下执行</p>

<pre><code>sudo mv /etc/grub.d/30_os-prober /etc/grub.d/06_os-prober
</code></pre>

<p>然后同上Update Grub就可以了。</p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2011/09/03/unity-supports-3d-games-import-to-flash/">Unity已支持将3D游戏导出成Flash</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-09-03T00:00:00+08:00" pubdate data-updated="true">Sep 3<span>rd</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p><a href="http://unity3d.com/"> Unity</a>是一款支持跨平台开发的3D游戏开发工具，生成的游戏可以导出到 包括iOS, Android, PS3, Wii, XBox360在内的众多平台。<a href="http://v.youku.com/v_show/id_XMzAxMDEzMDI0.html">近日Unity发布了一则视频</a>， 演示了将Unity3D游戏导出到Flash，并运行在<a href="http://labs.adobe.com/downloads/flashplayer11.html">Flashplayer11 beta版</a>上的效果。</p>

<p>游戏虽然不如运行在Unity原生平台流畅，但也已远远超出人们对Flashplayer 3D性能的预期了。看起来，Flashplayer11确实朝3D这个方向迈出了一大步。
该版本的Uinty还未正式发布，但如果你已经安装了Flashplayer11，可以先试试Adobe推荐的<a href="http://molehill.zombietycoon.com/">3D演示游戏</a>。</p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2011/09/02/all-maps-in-douban-alpha-city/">貌似是豆瓣alpha城全部的地图了</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-09-02T00:00:00+08:00" pubdate data-updated="true">Sep 2<span>nd</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p><img src="http://www.roybit.com/wp-content/uploads/2011/09/thumb.png" title="地图" alt="地图" /></p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2011/08/31/skin-magic-linking-in-winsdk-program/">SkinMagic在WinSDK程序中的链接</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-31T00:00:00+08:00" pubdate data-updated="true">Aug 31<span>st</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>其实这种诡异的搭我配估计没人会遇到。我只是想在SDK程序里做一下美化而已。</p>

<p>SkinMagic在MFC程序里的使用还是很常见的，网上代码有的是，至于大家手里的SkinMagic库，恐怕没有几个是正版的吧？有木有有木有！</p>

<p>其实在SDK下使用SkinMagic还是比较简单的事情，主要解决两个问题：</p>

<blockquote><ol>
<li> 库的链接</li>
<li> 皮肤的导入</li>
</ol></blockquote>


<p>第一个其实好说，注意InitSkinMagicLib传入WinMain的hInstance：</p>

<pre><code>VERIFY( 1 == InitSkinMagicLib(hInstance, NULL , NULL, NULL ));
VERIFY( 1 == LoadSkinFromResource(NULL,MAKEINTRESOURCE(IDR_SKIN5),"skin"));
VERIFY( 1 == SetDialogSkin( "Dialog" ) );
</code></pre>

<p>然后记得导入库就行</p>

<pre><code>#pragma  comment(lib,"SkinMagicTrial")
#include "SkinMagicLib.h"
</code></pre>

<p>第二个问题，由于是SDK程序，所以需要手动添加资源，然后在资源里建立SKIN项，再导入皮肤，这时候VS会自动建立resource.h文件。</p>

<p><img src="http://www.roybit.com/wp-content/uploads/2011/08/image_thumb.png" title="image" alt="image" /> 然后就OK啦。如果自己建立窗口，记得对ShowWindow之前调用一下SetWindowSkin。我只弹了个对话框，效果如下</p>

<p><img src="http://www.roybit.com/wp-content/uploads/2011/08/image_thumb1.png" title="image" alt="image" /></p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2011/08/31/mse-kait-report-latex-template-of-tsinghua-software-school/">清华大学软件学院MSE开题报告Latex模板</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-31T00:00:00+08:00" pubdate data-updated="true">Aug 31<span>st</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>使用请先编译BIB文件（参考文献），然后直接生成pdflatex（windows下），用Linux的孩纸请自行抉择。</p>

<blockquote><p>bibtex %1</p>

<p>pdflatex %1.tex</p></blockquote>

<p>没找到表格分散对齐的命令，只能手动填充空格了。</p>

<p>在CTex下测试通过。下载链接：<a href="http://www.roybit.com/wp-content/uploads/2011/08/docs.rar" title="docs">here</a></p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2011/08/30/liangxinshu-unnominated/">转载：中国数字时代：独立候选人梁树新未能通过提名</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-30T00:00:00+08:00" pubdate data-updated="true">Aug 30<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>核心提示：中国的独立候选人在提名阶段即遭到打击。</p>

<p>原文：Liang Shuxin: Independent Candidate Disqualified from Preliminary Round
作者：China Digital Times
发表：2011年8月24日
本文由&#8221;译者&#8221;志愿者翻译并校对</p>

<p>在过去的两个月里，中国有超过100位独立候选人宣布竞选当地的人大代表，并使用微博和社交媒体来赢得人们的支持，例如中国最出名、最活跃的博主之一，李承鹏。但是，由于政府迅速、坚决的制止，两个月后，他们中仅剩寥寥数人执意要迈出通向选举的第一步――正式登记成为提名候选人。</p>

<p>梁树新是一位坚持走下去、并试图通过登记的例外。他生于1976年，是广州番禺区丽江街道的居民。他是一个草根基金&#8221;微基金&#8221;的发起者和行政主管。微基金最近开始在贵州省运作一个为农村儿童提供免费学校午餐的项目。如下方传单所示，梁的竞选口号是&#8221;选个街坊做代表&#8221;，配以一张他在当地菜市场提着菜的图片。梁主要的竞选承诺是在街区附近建一个便宜的开放菜场，因为旧的市场已经被拆毁，而超市又太贵了。</p>

<p><img src="http://www.roybit.com/wp-content/uploads/2011/08/lsx_thumb.jpg" title="lsx" alt="lsx" /></p>

<p>8月18日，丽江街道委员会突然公布了一份选举资格要求，限制 候选人必须为非共产党党员和女性。梁&#8221;碰巧&#8221;是男性并且是党员。第二天，这个禁令在在互联网上广为传播后被删除了。</p>

<p><img src="http://www.roybit.com/wp-content/uploads/2011/08/lsx_1_thumb.jpg" title="lsx_1" alt="lsx_1" /></p>

<p>8月24日的午夜，丽江街道委员会最终公布了初步候选人。这份名单本应在当天的工作日结束前公布。尽管梁符合条件，他不在名单上。根据选举规则，8月24日是所有街道委员会公布候选名单的最后一天，有10人以上提名的每一位街道参选者都有资格成为初步候选人。梁声称他有19人提名并出示了证据。正如先前的限制所说，两位初步候选人都是女性和非共产党党员。
独立候选人的主要平台是微博，在那里候选人可以与支持者和反对者公开交流。下面条推特是这种交流的例子：
&ldquo;梁树新：你要我滚到哪里去？@现役魔法使：滚，稳定的中国不需要你这样的神经病。&rdquo;</p>

<p><img src="http://www.roybit.com/wp-content/uploads/2011/08/lsx_2_thumb.png" title="lsx_2" alt="lsx_2" /></p>

<p>原文链接：需翻墙</p>

<p><a href="http://chinadigitaltimes.net/2011/08/liang-shuxin-%E6%A2%81%E6%A0%91%E6%96%B0-independent-candidate-disqualified-from-preliminary-round/">http://chinadigitaltimes.net/2011/08/liang-shuxin-梁树新-independent-candidate-disqualified-from-preliminary-round/</a></p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2011/08/29/wangyin-totally-use-linux-to-work/">王垠：完全用Linux工作</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-29T00:00:00+08:00" pubdate data-updated="true">Aug 29<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>老文章了，不过很有启发意义。</p>

<blockquote></blockquote>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2011/08/29/improvement-on-chrome-plugin-to-send-email-automatically/">对Chrome自动发送邮件插件的改进</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-29T00:00:00+08:00" pubdate data-updated="true">Aug 29<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>针对之前那个插件存在的一些问题，这两天又做了一点改进。主要的功能改进包括：</p>

<blockquote><p>1 如果直接点击右键，那么获取当前网页的链接，然后跳转到一个服务器的页面，发送邮件完成之后自动关闭。</p>

<p>2 如果选择了文字再点击邮件，那么程序通过ajax将所选文字发送到一个服务，发送邮件完成之后弹出提示。</p></blockquote>

<p>过程中遇到过几个主要问题，这里与大家共勉一下：</p>

<blockquote><p>1 有的虚拟主机的设置不允许Get参数里包含<a href="http://%EF%BC%88%E4%B8%8D%E6%98%8E%E6%89%80%E4%BB%A5%EF%BC%8C%E4%B8%8D%E7%9F%A5%E9%81%93%E6%80%8E%E4%B9%88%E8%AE%BE%E7%BD%AE%E7%9A%84%EF%BC%89%EF%BC%8C%E5%90%8E%E6%9D%A5%E7%A8%8B%E5%BA%8F%E5%85%88%E6%8A%8Ahttp%E6%9B%BF%E6%8D%A2%E6%88%90ptth%EF%BC%8C%E5%86%8D%E6%9B%BF%E6%8D%A2%E5%9B%9E%E6%9D%A5%EF%BC%8C%E8%BF%99%E6%A0%B7%E5%B0%B1%E7%BB%95%E8%BF%87%E4%BA%86%E8%BF%99%E4%B8%AA%E9%97%AE%E9%A2%98%E3%80%82">http://%EF%BC%88%E4%B8%8D%E6%98%8E%E6%89%80%E4%BB%A5%EF%BC%8C%E4%B8%8D%E7%9F%A5%E9%81%93%E6%80%8E%E4%B9%88%E8%AE%BE%E7%BD%AE%E7%9A%84%EF%BC%89%EF%BC%8C%E5%90%8E%E6%9D%A5%E7%A8%8B%E5%BA%8F%E5%85%88%E6%8A%8Ahttp%E6%9B%BF%E6%8D%A2%E6%88%90ptth%EF%BC%8C%E5%86%8D%E6%9B%BF%E6%8D%A2%E5%9B%9E%E6%9D%A5%EF%BC%8C%E8%BF%99%E6%A0%B7%E5%B0%B1%E7%BB%95%E8%BF%87%E4%BA%86%E8%BF%99%E4%B8%AA%E9%97%AE%E9%A2%98%E3%80%82</a></p>

<p>2 ajax的错误提示可以通过responseText打印出来，这样方便很多调试，当然jquery就会方便很多。</p>

<p>3 js关闭窗口的代码window.close在不同浏览器里会有不同的问题<a href="http://www.roybit.com/wp-content/uploads/2011/08/chrome%E6%8F%92%E4%BB%B6.rar" title="chrome插件">1</a>。</p>

<p>4 正常情况下ajax无法跨域访问，但是Chrome插件里Background.html里是可以跨域访问的。</p></blockquote>

<p>代码<a href="http://www.roybit.com/wp-content/uploads/2011/08/chrome%E6%8F%92%E4%BB%B6.rar" title="chrome插件">这里</a>下载，不做过多解释了。哎，最近得好好折腾一下开题了。</p>

<blockquote><p>参考文献：</p>

<p><a href="http://www.roybit.com/wp-content/uploads/2011/08/chrome%E6%8F%92%E4%BB%B6.rar" title="chrome插件">1</a> JavaScript无提示关闭窗口(兼容IE/Firefox/Chrome),</p></blockquote>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2011/08/28/chrome-plugin-to-send-mails-automatically/">Chrome自动发送邮件插件</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-28T00:00:00+08:00" pubdate data-updated="true">Aug 28<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>写这个插件的最初的原因是实验室的网络无法同步Chrome书签，同时有时候需要与宿舍的笔记本同步一些文本信息，所以琢磨自己写一个同步插件。</p>

<p>但是偌大一个教育网，竟然找不到一个可用的在线存储服务，金山快盘已经叫嚣要开放API很久了，但是就是没见到官方的API手册。最后想来想去，干脆用邮件算了，最终的 程序结构如下：</p>

<p><img src="http://www.roybit.com/wp-content/uploads/2011/08/thumb.png" title="程序结构" alt="程序结构" /></p>

<p>Chrome插件的开发参考了ClickTrans<a href="http://www.roybit.com/wp-content/uploads/2011/08/thumb.png" title="程序结构">1</a>的开发，源码可以在<a href="http://www.roybit.com/wp-content/uploads/2011/08/chrome%E6%8F%92%E4%BB%B61.rar">这里</a>下载，使用的时候在浏览器里右键，就会有Save选项，如果选择了文本，就把文本发送到邮件，否则发送当前链接地址。具体实现不解释，可以参考代码，简单说下Chrome插件的一些东东。</p>

<p>Chrome插件实际上是一组JS的脚本 配置文件，可能还有Html的页面，Chrome本身提供一些API接口，剩下的就通过JS来操作页面元素实现。Chrome插件里比较重要的两个东东，一个是页面，包括了BackGround页，Popup页（Popup页又分Page_Action和Browser_Action），另一个是向页面注入的JS脚本。因为插件自己的脚本并不能直接操作Web页，所以必须要向页面注入一个脚本才能进行页面操作。Chrome的API可以通过这里<a href="http://www.roybit.com/wp-content/uploads/2011/08/chrome%E6%8F%92%E4%BB%B61.rar">2</a>查询，自己的脚本和注入脚本之间的通信参见ClickTrans<a href="http://www.roybit.com/wp-content/uploads/2011/08/thumb.png" title="程序结构">1</a>的文章。</p>

<p>最后不得不提的一个东西，JS本身是无法实现SMTP协议的，或者说没人做，需要发送邮件的时候必须借助其他Web语言，通过服务的形式调用，我是写了一个简单的PHP响应请求并发送邮件的程序，具体代码如下，重要的不是代码，而是PHP下mail的配置，详见配置win下的sendmail<a href="http://www.php.net/if">3</a></p>

<p>Chrome插件的代码里固定了一个邮件服务的地址，localhost/test/send.php，如果需要请自行更改然后打包，有空再做成可配置的，然后放到SinaAppEngine上，这样就方便访问了，否则总得本地起服务，太费劲了。</p>

<p>参考文献</p>

<p><a href="http://www.roybit.com/wp-content/uploads/2011/08/thumb.png" title="程序结构">1</a> 从无到有制作Chrome扩展：ClickTrans，</p>

<p><a href="http://www.roybit.com/wp-content/uploads/2011/08/chrome%E6%8F%92%E4%BB%B61.rar">2</a> Chrome扩展API参考，</p>

<p><a href="http://www.php.net/if">3</a> php mail函数在win下的使用，以及配置win下的sendmail</p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2011/08/26/the-1990s-ancient-movies-of-hongkong/">九十年代香港电影古装篇</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-26T00:00:00+08:00" pubdate data-updated="true">Aug 26<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>太怀念了，80后真的老了！！！</p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2011/08/26/old-article-fall-down-of-life-coach/">老文章了：人生导师的倒掉</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-26T00:00:00+08:00" pubdate data-updated="true">Aug 26<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<blockquote><p>原文链接：</p></blockquote>

<p>漫漫人生路，总会错几步。长长阅读史，难免踩狗屎。</p>

<p>别的不说，和安妮宝贝有过一腿的前科足以让我羞愤难当，恨不得在地上找条缝钻进去：一个男的喜欢看安妮宝贝和他喜欢穿连裤丝袜有什么区别？醒悟到“安妮宝贝写的是三流言情小说”后，我可把肠子都悔青了，仿佛玉树临风流倜傥的唐伯虎被人扒开衣服，“我左青龙，右白虎，中间一条Hello Kitty粉红小内裤”，真是情何以堪，找面承重墙一头撞死算了。男看武侠女看言情，这是常态，反过来，女看武侠，牛逼；男看言情，傻逼。好比女生穿上男生的衬衣是拉风，男生穿上女生的裙子是羊癫风。安妮宝贝的读者里居然有四成男性，想到当年我也像他们一样看这些扭扭捏捏娘里娘气的东西，脊背不由得一阵阵发凉。</p>

<p>话说回来，安妮宝贝不算什么，咱还看过著名原创作家郭敬明老师好几本书呢。那时我念高中，也经常掰个四十五度角仰望天空的造型，当然不是因为他妈的那些曾经以为念念不忘的事情就在我们念念不忘的过程里他妈的被我们遗忘了，而是我在流鼻血——每个月总有那么几天，量大、鲜红。多年以后，我早已告别老带给我麻烦的“老朋友”，郭老师却变本加厉，这个27岁老男人喜欢起床后用十道比烧青花瓷还复杂的工序洗好脸弄好头发上好妆重新躺回床上装作刚睡醒的样子从各个角度仰拍照片贴到博客上。作为安妮宝贝的得意门生，郭老师青出于蓝而胜于蓝精灵，把师傅的“贱”和“假”发扬光大。郭老师会买下“一盒来自日本的二百九十九块的木糖醇口香糖”，“拿起一盒十二只装的小番茄，看看上面四十块五的价格，轻轻地丢进购物篮里”。Shopping完两手提满锦衣玉食的郭老师通常会感到“像个孩子般的无助”和孤单，“孤单是久光百货空旷的一楼大厅。孤单是刷卡时签掉的银行账单。”注意看好，是久光百货一楼哦，打个九五折能打掉几百块钱的一楼哦，不是天天搞两折特卖会的七楼哦。在郭老师笔下，“南京西路像是一条发光的河，无数拥有闪光鳞片的游鱼，游动在深深的河水之下。这条光河横贯整个上海最顶级的静安区域，把一切冲刷出金粉味道的奢靡。”“来往的女士们穿着Marc Jacobs的新款羊绒大衣、Gucci小靴子”，眉毛下面长的不是眼睛，是游标卡尺，“目光精确清晰”，实际上满大街都是像我这种一身班尼路的土鳖和无处不在的汽车噪音汽车尾气。郭老师的悲伤“大片大片”的，香樟“大片大片”的，高草“大片大片”的，不知道他来大姨妈的时候是不是也“大片大片”的。</p>

<p>平心而论，我完全理解和支持喜欢郭敬明、安妮宝贝等女性作家的男青年，个人喜好问题，没必要上纲上线嘛，和谐社会不都提倡性取向自由了吗。怕就怕这些玩意看多了，变得和掉进“娘溺泉”的日本漫画人物乱马一样，一盆言情小说的冷水泼上去，立马变身女人，说话写文章和安妮宝贝一个调调，忧伤成S型，安静成B样，自己却浑然不觉。畅销小说这碗饭不好吃，要练此功必先自宫，走安妮宝贝路线的，得把自己整成特浓铁观音，一天到晚清醒啊清醒，要么把自己整成北方强冷空气，一天到晚凛冽啊凛冽；走郭老师路线的，得把自己整成金属切割机，一天到晚疼痛啊疼痛，要么把自己整成废弃停车场，一天到晚荒芜啊荒芜。再说了，就算自宫未必成功啊，您有把握超越四姑娘吗？</p>

<p>大学时曾有女生向我殷勤推荐张爱玲，当着她热情的面孔，“我不喜欢张爱玲”这句话实在没好意思说出口，只好假惺惺地装没看过。男青年应当对女性作家的书保持充分警惕，仔细想想，大多数女作家写的都是言情小说，张爱玲大约是底线，再差的，就别看了。</p>

<p>对女青年们来说，喜欢言情小说天经地义无可厚非，关键在“看什么”和“怎么看”。</p>

<p>“看什么”很简单：年代越早的越好。以前我颇看不起琼瑶奶奶的言情小说，现在才知道，琼瑶比安妮宝贝好百倍啊。琼瑶奶奶心直口快，提起普通话都说不准的丈夫，一脸幸福地这样描述自己的性高潮：“天崩地裂”、“万物俱无”、“像是天空几万枚烟花同时爆发，像是全世界的交响乐队合奏着《欢乐颂》”，多诚恳多直白！虽说琼瑶奶奶的女主角们一哭二闹三上吊，你是风儿我是沙，你是哈密我是瓜，你是牙膏我是刷，你不爱我我自杀，可是人家有了需求我就要，有了快感我就叫，多简单多可爱！罗永浩老师就因为年轻时看过《琼瑶全集》，后来才一步步成长为敢爱敢恨人格彪悍的老罗，最终变成我们轶可的铁杆可爱多。反观脑容量小得存不下一个长句的安妮宝贝，女主角的锁骨永远“突兀”，穿上衣架整个人可以挂到墙上，长发永远像“浓密的海藻”，也不怕缠住男主角的螺旋桨发生事故，小说写得凹来凸去左扭右拐前塌后陷，她何尝不想拗出个华丽的瑜伽造型，无奈那些空洞词藻怎么摆看上去都是一副粉碎性骨折的样子。最近两年出的书更糟，可以直接扔垃圾桶。我本以为只会使用一个标点符号的安妮宝贝和熟练掌握十个形容词的郭敬明都能红已经是极限，没想到女作家们的水平每况愈下，人家安妮宝贝再不济也会搞两句宗教哲学撑撑门面，郭老师再不行也能说两个荤段子活活气氛，现在这些腹中空空的作者靠挖挖祖坟写点中学生家庭作业的古诗词赏析也能出书，并登上图书销售排行榜第一名，天理何在？人们不看《饮水词笺校》，倒去买本做厕纸还嫌硬的《人生若只如初见》，我翻过几页，鸡皮疙瘩直起，通篇不伦不类的二手安妮宝贝，惨如车祸现场——连安妮宝贝都没学像，这是怎样的一出悲剧啊！纳兰性德若泉下有知，不气得从墓里跳出来才怪。什么“才女”安意如，看照片就知道是个草包，不懂古典的人最喜欢打扮成温婉动人的古典样子啦。</p>

<p>“怎么看”是个大问题。女青年们总天真地以为，种棵美人蕉就是美人了，养盆君子兰就是君子了，读两本亦舒张小娴李碧华就滚遍红尘历尽千情了，随口说出一句话都闪耀着深刻得吓人的爱情哲理，仿佛谈过百场恋爱，浑身上下都是丘比特老哥扎出的窟窿，曾经沧海难为水除却巫山不是云，实则眼高手低，放眼望去黑压压一片库存滞销闺中待嫁好姑娘，完全没学到偶像们的核心竞争力。须知写言情小说的女人都不是一般的战士，理想和现实的界线她们比谁都分得更清楚。安妮宝贝和她男人从认识到怀孕只用了半个月时间，总共见过三次面，勾搭、摆平、套牢一气呵成，快、狠、准。亦舒大姐结过三次婚，池莉大姐离过三次婚，还有名言曰：“能离婚的女人是幸运的”，这种“狗熊掰棒子”的良好心态一般人哪能学得来。写小说嗲死人不偿命的琼瑶奶奶生活中简直是小三中的战斗机挖墙脚中的推土机，不出面不开口不强迫，兵不血刃让老公蹬掉前妻。张爱玲更不用说，个人魅力无可匹敌，胡兰成直接跑过来求她：“我愿意和你发生一切可能发生的关系。”牛逼到爆炸。可惜，女青年们没学到张奶奶的才气，她的自恋和爱情虚无主义倒学了一大堆，结果连个“我愿意和你分担一切可能发生的账单”的男人都找不着。人生观这玩意就像牙刷和老婆，不能共用，你没有每年几百万版税，也学人家安妮宝贝“现世安稳岁月静好”，你静好个屁，没有独立的人格，天天读烂书，迟早变成猪。</p>

<p>人们对灿若群星才华横溢的先贤们视而不见，反而把病态丑陋、狡猾钻营的哗众者供奉为自己的人生导师，可悲。说到底，一个作者最重要的东西是真诚，作品好不好是不是言情小说倒没什么大关系，见仁见智无关痛痒。人生导师们可恨和该遭唾弃之处，正在于他们的“假”——附庸权势、矫情伪善。初中时我买过一本含泪大王余秋雨的《行者无疆》，至今想起仍觉颜面无光。莲花教护法郭敬明信口开河的实力名满天下，教主安妮宝贝睁眼说瞎话的深厚内功也不遑多让，明明是跟着一堆人一起去越南旅游，第一次出国又不会讲英文，需要别人帮忙搞定酒店、搞定签证、搞定要小费的海关、搞定卖斗笠的小贩，可写到《蔷薇岛屿》里只剩下她独自一人穿着棉布裙子冷眼看人情单骑走天涯；明明是自己性格抑郁怪僻没人要，硬要装成。那样的。女子。冷暖自知。纯粹。洁净。激烈。昌盛。全世界的爱都是她做，全世界的胎都是她堕，只有她才是被侮辱和被损害的，只有她最坚强最淡定最脱俗；明明是嫁了个钻石王老五未婚先孕，还满世界显摆“得夫如此万事足”：我老公是“温厚纯良”的男子，除了会种孩子还会种瓜种菜种葡萄哟；明明是第三者把别人的男人抢了，却寡廉鲜耻腆着脸说：“所以，孤僻的，沉闷的，生硬的，发暗的，感情，才是真正奢侈品。它只能针对某一类具体的对象，它需要很多条件才能生发，它是单纯而专注的，它有坚定的刚硬的属性。它试图利人，并且感恩。它因为稀少而昂贵。它比大部分相同功能的同类更具备超越性。它可以在时间里存在很久，并且发出光。”还奢侈品还感恩还发光咧，妈了个逼的。</p>

<p>曾有个女孩写信给《读者》主编彭长城，问为何我按照《读者》里说的去做，在生活中处处碰壁呢？这位姑娘真糊涂，“老虎，老鼠，傻傻分不清楚”。人生导师们敬业得很，出来行走江湖怎么也得化个一脸慈悲循循善诱的彩妆吧，头上再别个两百瓦灯泡，一上台直接把全场观众晃瞎。往往越是满口仁爱的人越是面目可疑。“饿死事小，失节事大”的朱熹大人有两个尼姑小妾，儿子死后儿媳妇怀孕。前段时间去逛书店，随手拿起一本刘墉老师的书翻开，正文两倍行距印刷，行间空白够抄下一本《脂砚斋重评石头记》，刘老师不愧为大家，骗起钱来有型有款落落大方。书架上堆着满满一排刘老师的大作：《爱何必百分百》《爱的密码》《一生能有多少爱》《生死爱恨一念间》《爱就注定了一生的漂泊》《对错都是为了爱》《爱又何必矜持》《在生命中追寻的爱》，这茫茫多的“爱”，一个老婆是肯定装不下的，怪不得刘老师会在大陆养个小二奶了，刘墉的书扉页都会配上一张和家人的亲密合影照，做贼心虚此地无银三百两啊。另一位在《读者》里频频出镜的台湾作家林清玄，长发须眉如得道高僧，说佛论禅，文章写得一副菩提模样。殊不知林大法师私底下是个兼职爱好者，白天做拈花微笑的如来佛祖，晚上是弹无虚发的送子观音，搞大女读者肚子后抛弃发妻再婚，还可怜楚楚地说：“在痛苦的婚姻里，人犹如行尸走肉。”</p>

<p>人生导师们口吐莲花空谈美好，财源滚滚名利双收，何乐不为。这是个假话听起来像真话、真话听起来像笑话的时代，谎言连篇比直言不讳容易，假装清高比嬉笑怒骂讨喜，一脸清高的卫道士没准更加龌龊下流，满口理想的小姑娘没准更加圆滑世故，看清一个人谈何容易？你也许爱看赵忠祥老师解说的《动物世界》，但不一定听过这位新闻联播第一主持人给情人打电话时用富有磁性的男中音说出的劲爆字眼；你也许记得语文课本上的《致橡树》，但不一定知道舒婷大妈酷爱搓麻将，满嘴有违五讲四美的词语。</p>

<p>生活就是这样，背面看是范冰冰，转过来是白骨精。转角不会遇到爱，转角顶多遇到个染发的帅哥，他那忧郁的眼神稀疏的胡渣子，他那神乎其技的刀法——我靠，抢劫的。人生是一场超级女声，能走到最后的都是纯爷们，阴暗消极、阳气不足的注定速朽，乐观勇敢、活蹦乱跳的才能晋级。</p>

<p>人生导师必然倒掉。做人就应该戎马倥偬血气方刚，人丑心不丑话糙理不糙。男人要像正午的太阳，撒向人间都是爱撒到世界充满爱，带给别人光热和快乐，照到哪里哪里春回大地，勤劳赛过蚂蚁能力气死上帝。和我一起做个纯洁的流氓吧，做一个把半边肾切下来炒盘腰花另半边肾还可以想姑娘想得鼻血喷涌的中国共青团团员，做一个下课打架上课举手业余时间扑灭森林火灾的少年先锋队队员，祖国还没统一，共产主义还没实现，数以千计表情迷茫的老奶奶还站在马路边等着好心人搀扶通过，数以万计眼神空洞的大龄女青年后半辈子的幸福生活还没着落，时间紧任务重，就让我们戴上那用鼻血染红的三角布条条，不要问我是谁，我的名字叫红领巾，简称我的名字叫红，嗯哼！</p>

<p>重要：本文所述内容未经考证，缺乏依据，以讹传讹，严重伤害了各位粉丝的感情，对郭敬明、安妮宝贝、刘墉、林清玄、赵忠祥等老师高大光辉的形象造成了恶劣的影响，在此我向诸位老师及他们的粉丝道歉。</p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2011/08/25/handshake-skill-of-Obama/">奥巴马握手绝技</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-25T00:00:00+08:00" pubdate data-updated="true">Aug 25<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2011/08/24/use-gdiplus-in-mfc/">在MFC程序中使用GDI+</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-24T00:00:00+08:00" pubdate data-updated="true">Aug 24<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>意义就不说了，细节见如下链接，照片在后面，代码<a href="http://www.roybit.com/wp-content/uploads/2011/08/mfcgdiplus.rar" title="mfcgdiplus">这里</a>下载</p>

<p><img src="http://www.roybit.com/wp-content/uploads/2011/08/mfc_thumb.png" title="mfc" alt="mfc" /></p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2011/08/24/about-python-class-member-and-javascript-prototype/">关于Python的类成员和Javascript的原型</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-24T00:00:00+08:00" pubdate data-updated="true">Aug 24<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>偶然发现两个的设计思路是一致的（个人理解，欢迎指正）。这里简要分析一下：</p>

<p>Python的类成员，也就是直接定义在类里的变量（实例成员是用self.x直接声明的），而类方法就是用@classmethod说明的方法。</p>

<blockquote><p>Python还有一种@staticmethod，静态方法，其实设立所有的静态方法和变量的目的主要是用类名限制访问范围，编译的时候就直接被改名然后变成了全局变量。</p></blockquote>

<p>Js的原型（prototype）是js里最复杂的一部分了，有的人可能Jquery什么的用的很熟，但是对原型一无所知。最初设计Js的时候设计师没有考虑把它设计成一门完整的语言，后来决定引入面向对象的时候，就采用了原型链这种诡异的设计模式。具体的使用大家应该都熟悉。类名（实际是函数名）.prototype.x=…，这样就在类的原型上加入了一方法或成员。</p>

<blockquote><p>实际Js也有静态方法和静态变量，就是通过类名.x=…定义的，跟一切静态方法一致，也只是限制了范围，最终会改名并变成全局变量。</p></blockquote>

<p>我们只讨论类成员类方法，静态的不在我们考虑范围之内，这种类即对象的设计理念，主流语言里貌似只有Js，Python和Perl采用了，跟静态方法是完全不同的理念。</p>

<p>首先，我们要问为什么要引入类方法和类成员，它跟实例方法实际成员有什么不同呢?</p>

<p>这里我们要建立一个概念，在Python和Js里，类也是一种对象（实例）（我的世界观颠覆了）。类其实相当于一个模板，只不过大多数语言里，我们通过类实例化出一个一个对象，抛去静态的，这些对象是各不相同的（先考虑成员对象，方法都是共享的）。而Python和Js里，这些对象共同引用类模板里的对象（及方法）。类模板好比一个公共的祖先，从这个祖先衍生的实例都有相同的血缘（共同的prototype），但是各自有自己不同的部分。</p>

<p>不知道这么说是否清晰，我们举两个例子：</p>

<p>Python的[1]:</p>

<pre><code>class Demo:
    i = 0
    def __init__(self):
        self.j = 0
o1 = Demo()
o2 = Demo()

Demo.i = 10 #类成员的赋值
print o1.i #结果为10,说明在没有显式定义实例成员的时候，就会取类成员的值
print o2.i #结果为10,说明在没有显式定义实例成员的时候，就会取类成员的值

o1.i = 1 #会为o1对象创建实例成员。
o2.i = 2 #会为o2对象创建实例成员
o1.j = 11
o2.j = 12

print o1.i # 结果为1
print o2.i # 结果为2   这两个结果说明对i数据成员的赋值，每个对象都有自己的实例成员。
print Demo.i #结果为10说明，前边的赋值，并没有覆盖该类成员。
print o1.j # 结果为 11
print o2.j # 结果为 12 正常的实例成员访问。
</code></pre>

<p>结果很清晰，类成员大家共享，但是各自有各自不同的实例成员，类成员可以通过实例调用，这时候就存在了命名冲突了怎么办的问题，于是实例成员覆盖类成员，没有实例成员的时候才调用类成员，而通过类名调用类成员是最正统的方法了，毕竟Python里类也是对象，你把类名想象成一个直接被实例化了的原型对象，就好理解多了。</p>

<p>然后举一个Js的例子[2]：</p>

<pre><code>var BaseClass = function() {
this.method1 = function(){
       alert(' Defined by the "this" in the instance method');
 }
};
var instance1 = new BaseClass();
instance1.method1 = function(){
    alert(' Defined directly in the instance method');
}
BaseClass.prototype.method1 = function(){
    alert(' Defined by the prototype instance method ');
}
instance1.method1();//Defined directly in the instance method
</code></pre>

<blockquote><p>通过运行结果跟踪测试可以看出直接定义在实例上的变量的优先级要高于定义在“this”上的，而定义在“this”上的又高于 prototype定义的变量。即直接定义在实例上的变量会覆盖定义在“this”上和prototype定义的变量，定义在“this”上的会覆盖prototype定义的变量。</p></blockquote>

<p>这与Python的例子思想一致。原型相当于类模板，实例共享原型，通过实例名调用一个方法时，如果出现命名混淆，实例的方法也会覆盖原型的方法。同样，实例同名成员的改动并不会影响原型成员，验证如下。而且原型最正统的调用方法也是通过类名，而不是实例名。</p>

<pre><code>function ec(str) {
    document.write(str "");
}
var test= function(){
}
test.prototype.age = 11;
var t=new test();
var s=new test();

ec(t.age);
ec(s.age);

t.age=12;
s.age=13;

ec(t.age);
ec(s.age);
ec(test.prototype.age);
</code></pre>

<p>有了这种理解，阮一峰的三篇关于Js面向对象设计思想的文章也就不那么费解了。</p>

<p>最后，吐个槽：Python真是纯面向对象啊，纯的……</p>

<blockquote><p>参考文献：</p>

<p>[1] python中类中的静态数据成员和实例数据成员</p>

<p>（注：实际上是类数据成员而不是静态）</p>

<p>[2] javascript中静态方法、实例方法、内部方法和原型的一点见解</p>

<p>[3] 阮一峰，Javascript 面向对象编程（一）：封装</p>

<p>[4] 阮一峰，Javascript面向对象编程（二）：构造函数的继承</p>

<p>[5] 阮一峰，Javascript面向对象编程（三）：非构造函数的继承</p></blockquote>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2011/08/21/hero-fade-away/">英雄迟暮</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-21T00:00:00+08:00" pubdate data-updated="true">Aug 21<span>st</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>把《双狙人》三部和《兵临城下》都看完了，最触动人心的不是战场搏击，而是英雄迟暮的苍凉。老兵不死，只是渐凋零。</p>

<p><img src="http://www.roybit.com/wp-content/uploads/2011/08/goxiazai.com2001720P165641204553_thumb1.jpg" title="[goxiazai.com][2001全球两亿票房二战狙击大片][兵临城下][720P高清][中英字幕][迅雷下载][(165641)20-45-53]" alt="[goxiazai.com][2001全球两亿票房二战狙击大片][兵临城下][720P高清][中英字幕][迅雷下载][(165641)20-45-53]" /> <img src="http://www.roybit.com/wp-content/uploads/2011/08/3www.dygod_.com118089213500_thumb1.jpg" title="双狙人3[www.dygod.com电影天堂][(118089)21-35-00]" alt="双狙人3[www.dygod.com电影天堂][(118089)21-35-00]" /></p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2011/08/20/recommand-the-rise-of-great-nations/">推荐《大国崛起》</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-20T00:00:00+08:00" pubdate data-updated="true">Aug 20<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p><img src="http://www.roybit.com/wp-content/uploads/2011/08/U1343P28T19D2071F1420DT20061124122328_thumb.jpg" title="U1343P28T19D2071F1420DT20061124122328" alt="U1343P28T19D2071F1420DT20061124122328" /></p>

<p>公元1500年前后的地理大发现，拉开了不同国家相互对话和相互竞争的历史大幕，由此，大国崛起的道路有了全球坐标。</p>

<p>五百年来，在人类现代化进程的大舞台上，相继出现了九个世界性大国，它们是葡萄</p>

<p>牙、西班牙、荷兰、英国、法国、德国、日本、俄罗斯和美国。</p>

<p>大国兴衰更替的故事，留下了各具特色的发展道路和经验教训，启迪着今天，也影响着未来……</p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2011/08/20/old-soldiers-never-die-they-just-fade-away/">老兵不死，只是渐凋零</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-20T00:00:00+08:00" pubdate data-updated="true">Aug 20<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p><img src="http://www.roybit.com/wp-content/uploads/2011/08/17872378_thumb1.jpg" title="17872378" alt="17872378" /></p>

<p>Old Soldiers Never Die, They Just Fade Away.</p>

<p>Douglas MacArthur</p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2011/08/20/hacker-and-painter-third-chapter/">《黑客与画家》第三章文摘</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-20T00:00:00+08:00" pubdate data-updated="true">Aug 20<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>如果伽利略说帕多瓦城的人身高三米，他只会被当做一个古怪的科学家，但是他说地球围绕太阳运转，性质就完全不一样了。教廷知道，这种话会让人们开始思考。</p>

<p>为什么很少有美国的公司在标志里用红色圆圈？因为日本的国旗就是红色圆圈，而日本在二战中被美国击败。</p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2011/08/16/twelve-empires-in-Qing-dynasty-yanchongnian/">读阎崇年《正说清十二帝》</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-16T00:00:00+08:00" pubdate data-updated="true">Aug 16<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>实际上大部分内容在央视百家讲坛已经讲过了，这本书是百家讲坛的手稿，另外补充了一部分史实，是专门从皇帝的角度阐述清史的一部书，读起来通俗易通。有一点考究派的意思，但是总的来说，读史鉴今，甚有裨益。</p>

<p>颇深的两个感触是：</p>

<p>1 老人政治是中国一贯的弊政，本该年轻人干的事情老人干着，本该长者干的事情年轻人干着。总的来说，社会主义国家的领导人就没有年轻人，唯一的一个戈尔巴，结果大家懂的。老人政治让整个社会暮气沉沉，书中最讽刺的一件事情是，乾隆晚年吹嘘十大文治十大武功，搞千叟科举，西方第一次科技革命已经开始了，天朝这边还孙子打着灯笼爷爷考试呢。</p>

<p>2 政治开明的时代，同时伴随的是文化和经济的开放。康熙在的时候是中国古代差不多最开放的时候，中西文化交流日盛，康熙本人就曾学习过西方的近代科学，但乾隆之后就开始闭关锁国（如果我没记错的话）。道光帝的时候，鸦片战争爆发，道光帝甚至问使者英国在哪里，这是康熙帝的时候就解决过的问题。余秋雨的《一个王朝的背影》从避暑山庄折射了这种变化，值得深思。</p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2011/08/16/the-idea-of-people-of-two-generation/">关于两代人的理念</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-16T00:00:00+08:00" pubdate data-updated="true">Aug 16<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>回了趟家，越发觉得两代人的理念迥异。</p>

<p>山东人确实厚道，这确实是事实，在北京混迹很久了之后回去觉得山东人真是一点心眼都没有。上海问路据说是要钱的，北京问路肯定会给你指，只不过北京人习惯贫几句，在山东问路人能把你带过去……</p>

<p>但是直接导致的问题就是山东整体还是思想保守。顾维钧先生在巴黎和会上阐述为什么中国不能失去山东，说了一句非常精彩的话：山东之于中国，相当于耶路撒冷之于西方。这就把齐鲁之地，孔孟之乡上升到了中国人精神家园的高度。值得欣慰的是，山东还保留着孔孟遗风，值得深思的是，山东有两个比较重要的问题：新思想进不来，人走不出去。</p>

<p>很早的时候山东台有个节目叫天南地北山东人，山东人确实天南地北，但是大多数在省里。举个简单的例子，鲁菜号称八大菜系之一，到省外找找，除了湘菜就是川菜或者粤菜，你永远看不到鲁菜的影子。大多数山东家长的想法也是，如果孩子分数不高，宁可报省里比较差的学校也不愿出省找个好点的学校，工作也是只要省里混得下去，绝不出省。闯关东的都是活不下去的，但凡省里有口饭吃，就不北上；而下南洋的，真不见得都是活不下去的。</p>

<p>不过我觉得我们这一代的想法还是变了不少。也许是我比较另类吧。我们的上一辈的想法多半是保守，求安稳，而我们这一代已经开始慢慢追求开拓和探索。中国人的精神普遍还是保守。英国人从不忌讳皇家海军出身于皇家海盗的事实，很多人崇拜海盗的冒险精神，而中国人绝没有说自己爷爷是土匪的。这或许是中国社会整体缺失的精神。</p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2011/08/16/replace-religion-with-aesthetic/">美育代替宗教</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-16T00:00:00+08:00" pubdate data-updated="true">Aug 16<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>蔡元培先生的理念，但是这么多年来，未见明显成效。先生提出的原因是中国人没有信仰，而新文化打倒孔家店之后作为古人精神支柱的儒家思想被打倒，国人就更无信仰了。至于建国后破除迷信之后，国人简直连起码的敬畏都没有了。</p>

<p>想来是种病态的社会。中国古人号称信奉儒释道，拜天拜地拜祖宗，这不多神信仰么，跟没信仰一样。中国自古没有宗教的传统，所以不可能像基督教社会一样，用宗教（伊斯兰教就算了，个人观点，没有歧视的意思）来规范人的理念，以忏悔来洗礼你堕落的灵魂。而按元培先生的理念，中国只能走美育，但是可悲的是这么多年，收效甚微。美育这种东西还是有点精英化了，个人理解。从某种程度上讲，什么八荣八耻也在美育的范畴之内，但是这东西明显更没起什么作用，也就证明了以政治推行的美育是没用的。说实话，荣耻观都需要政治来推行，不得不说是中国的倒退。</p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2011/08/16/man-with-beer-box-as-his-vehicle/">以啤酒箱为交通工具的异常淡定的大哥</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-16T00:00:00+08:00" pubdate data-updated="true">Aug 16<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>这视频是如此的喜感</p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2011/08/16/fish-in-the-air/">在空气中游泳的鱼儿</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-16T00:00:00+08:00" pubdate data-updated="true">Aug 16<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>原文链接：<a href="http://www.dapenti.com/blog/more.asp?name=xilei&amp;id=48138">http://www.dapenti.com/blog/more.asp?name=xilei&amp;id=48138</a></p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2011/08/16/an-article-has-the-characteristic-of-luoyonghao/">这个段子很有罗永浩的风格</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-16T00:00:00+08:00" pubdate data-updated="true">Aug 16<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>去附近的atm自动取款机的小房间里，熬夜看书，大概看了2个小时左右，2个平平安安来敲门，问我在里面干嘛，我说我在看书，他问我为什么在这里看书，我说我看不下去的时候就把银行卡插进去看看余额，就有心思接着看书了。他听了我这番话后，眼神里都是星星点点的东西。就让我早点回家休息。</p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2011/08/16/an-article-about-baidu/">转一篇关于baidu的帖子</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-16T00:00:00+08:00" pubdate data-updated="true">Aug 16<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>央视曝光百度推广链接内幕真相:诚信与利益 孰轻孰重</p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2011/08/16/a-comic-how-to-manipulate-when-punished-to-write-500-times/">小漫画: 被罚抄500遍,怎样取巧?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-16T00:00:00+08:00" pubdate data-updated="true">Aug 16<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>原文链接：</p>

<p>各位想必都曾有过罚抄的经历吧？不论是抄在黑板上，或是抄在本子上，这都是一个缓慢又痛苦的过程。那么有没有一个能让你偷懒的方法呢？笑话！现在是计算机时代了，咱要用计算机科学的方式解决问题！</p>

<p><img src="http://ww2.sinaimg.cn/bmiddle/70444f0agw1dk6kxmdhfqj.jpg" alt="小漫画: 被罚抄500遍,怎样取巧?[5p]" />
“矮油？这个还不错哦”</p>

<p><img src="http://ww2.sinaimg.cn/bmiddle/70444f0agw1dk6l1sqeqsj.jpg" alt="小漫画: 被罚抄500遍,怎样取巧?[5p]" />
“这个不行，‘\’太多了！”</p>

<p><img src="http://ww2.sinaimg.cn/bmiddle/70444f0agw1dk6l27ycz9j.jpg" alt="小漫画: 被罚抄500遍,怎样取巧?[5p]" />
“嗯…这个倒是高级了点儿”</p>

<p><img src="http://ww3.sinaimg.cn/bmiddle/70444f0agw1dk6l36nd0fj.jpg" alt="小漫画: 被罚抄500遍,怎样取巧?[5p]" />
“坑爹呢这是！”</p>

<p><img src="http://ww2.sinaimg.cn/bmiddle/70444f0agw1dk6l3q0c1pj.jpg" alt="小漫画: 被罚抄500遍,怎样取巧?[5p]" />
“……啥？”</p>

<p>所以同学们，学会编程语言很重要啊！</p>

<p>另外老师们，碰见这样的学生你也不用担心，只要说一句就能秒杀他了：“很好，那你编译运行一下给我看看吧！”</p>
</div>
  
  


    </article>
  
  <ul class="pager">
    
    <li class="previous"><a href="/page/5/">&larr; Older</a></li>
    
    <li><a href="/blog/archives">Blog Archives</a></li>
    
    <li class="next"><a href="/page/3/">Newer &rarr;</a></li>
    
  </ul>
</div>
<aside class="sidebar-nav span3">
  
    <section class="well">
    <div class="profilepic align-center">
        <img src="/images/common/cxh.jpeg" alt="cxh.me" width="160px" class="img-rounded"/>
    </div>
    <hr/>

    <ul id="about_me" class="nav nav-list">
        <li class="nav-header">About Me</li>
        <li>北航本，清华硕，现就职于支付宝北京<br/>  方向分布式数据库。<br/>  文人，刀客，沦为程序员&#8230;</li>
    </ul>
</section>
<section class="well">
    <ul id="profile" class="nav nav-list">
        <li class="nav-header">Profile</li>
        <li><a href="https://github.com/chenxiaohui/">GitHub</a></li>
        <li><a href="http://weibo.com/sdqxcxh/">Weibo</a></li>
        <li><a href="http://renren.com/sdqxcxh/">Renren</a></li>
        <li><a href="https://twitter.com/sdqxcxh/">Twitter</a></li>
        <li><a href="https://facebook.com/sdqxcxh/">Facebook</a></li>
    </ul>
</section>
<section class="well">
    <ul id="feeling" class="nav nav-list">
        <li class="nav-header">一点心情</li>
    </ul>
    <p></p>
    <img src="/images/common/star_in_the_sky.jpg" class="notice_pic img-polaroid" alt="每当我找不到存在的意义，每当我迷失在黑夜里，夜空中最亮的星，请照亮我前行" />
    <p></p>
    <p class="indent">
        每当我找不到存在的意义，每当我迷失在黑夜里，夜空中最亮的星，请照亮我前行
    </p>
    <p class="align-right">
        ——《夜空中最亮的星》
    </p>
</section>
<section class="well">
  <ul id="recent_posts" class="nav nav-list">
    <li class="nav-header">Recent Posts</li>
    
      <li class="post">
        <a href="/2013/11/29/cdn-summarize/">总结一下各种免费cdn</a>
      </li>
    
      <li class="post">
        <a href="/2013/11/24/thinking-in-java-notes/">Thinking In Java读书笔记</a>
      </li>
    
      <li class="post">
        <a href="/2013/11/23/effective-notes/">Effective C++ 读书笔记</a>
      </li>
    
      <li class="post">
        <a href="/2013/11/21/use-mock-to-debug/">分布式调试系列之行为模拟</a>
      </li>
    
      <li class="post">
        <a href="/2013/11/20/method-to-deal-with-blanks-at-line-end/">关于ob代码规范里面的行末空格</a>
      </li>
    
  </ul>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo" class="page-footer"><hr>
<p>
  Copyright &copy; 2013 - Harry Chen -
  <span class="credit">
      Powered by <a href="http://octopress.org">Octopress</a> /
                 <a href="http://getbootstrap.com/2.3.2/">Bootstrap</a> -
  </span>
  <span class="credit">Statistics 
 </span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'harrychen';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>








<script type="text/javascript" >
<!--
    $(function() {
      $('pre').addClass('prettyprint').attr('style', 'overflow:auto');
      window.prettyPrint && prettyPrint();
      $('table').addClass('table')
});
-->
</script>


</body>
</html>
