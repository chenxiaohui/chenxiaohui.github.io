
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>CXH.ME</title>
  <meta name="author" content="Harry Chen">
  
  <meta name="description" content="北航本，清华硕，现就职于支付宝北京。方向分布式数据库。 老子是文人，沦为程序员的">
  

  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://cxh.me/page/2">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/bootstrap/bootstrap.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/stylesheets/bootstrap/responsive.css" media="screen, projection" rel="stylesheet" type="text/css">
<script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
  <!--<script src="/javascripts/libs/jquery.js"></script>-->
  <script src="/javascripts/libs/modernizr-2.0.js"></script>
  <script src="/javascripts/libs/bootstrap.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="CXH.ME" type="application/atom+xml">
  <link href="/javascripts/google-code-prettify/prettify.css" media="screen, projection" rel="stylesheet" type="text/css">
<script type="text/javascript" src="/javascripts/google-code-prettify/prettify.js"></script>
<link href="/stylesheets/doc.css" media="screen, projection" rel="stylesheet" type="text/css">

  

</head>



<body   >
  <nav role="navigation"><div class="navbar navbar-inverse navbar-fixed-top">
  <div class="navbar-inner">
    <div class="container">
      <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </a>

      <a class="brand" href="/">CXH.ME</a>

      <div class="nav-collapse">
        <ul class="nav">
    <li><a href="/">Blog</a></li>
    <li><a href="/blog/archives">Archives</a></li>
    <li class="divider-vertical"></li>
    <li class="dropdown">
        <a data-toggle="dropdown" class="dropdown-toggle" href="#">技术相关<b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="/category/ruan-jian-fa-bu">软件发布</a></li>
            <li class="divider"></li>
            <li><a href="/category/c-plus-plus">C++</a></li>
            <li><a href="/category/dot-net">.Net</a></li>
            <li><a href="/category/flex">Flex</a></li>
            <li><a href="/category/ji-chu-li-lun">基础理论</a></li>
            <li><a href="/category/latex">Latex</a></li>
            <li><a href="/category/linux">Linux</a></li>
            <li><a href="/category/mfc">MFC</a></li>
            <li><a href="/category/oceanbase">Oceanbase</a></li>
            <li><a href="/category/others">其他</a></li>
            <li><a href="/category/php">PHP</a></li>
            <li><a href="/category/python">Python</a></li>
            <li><a href="/category/vim">vim</a></li>
            <li><a href="/category/web">web相关</a></li>
        </ul>
    </li>
    <li><a href="/category/ai-ti-ren-sheng">IT人生</a></li>
    <li><a href="/category/shi-qing-bai-tai">世情百态</a></li>
    <li><a href="/category/sui-bi">随笔</a></li>



</ul>


        <ul class="nav pull-right" data-subscription="rss">
          <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
          
        </ul>

        
          <form class="pull-right navbar-search" action="http://google.com/search" method="get">
            <fieldset role="search">
              <input type="hidden" name="q" value="site:cxh.me" />
              <input class="search-query" type="text" name="q" results="0" placeholder="Search"/>
            </fieldset>
          </form>
        
      </div>
    </div>
  </div>
</div>
</nav>
  <div class="container">
    <div class="row-fluid">
      <div class="span9">
  
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2013/10/12/a-strange-error/">记几个诡异的bug</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-12T15:57:00+08:00" pubdate data-updated="true">Oct 12<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>ERROR: mutli target patterns</h3>

<p><s>这个莫名其妙啊，不知道在Makefile.am里改了什么，然后就这样，网上的解释大部分是说target里面有多余的冒号，但是我发现问题啊。最后该来该去bug没了，但是也复现不出来，只是在这里记一下，如果有复现的时候再说。</s></p>

<p>后来 <a href="http://weibo.com/leslieyuchen" title="阿里聿明">聿明</a> 解决了这个问题，原来是编译的线程开太多了，而开发机性能又不好，争用然后冲突。</p>

<pre><code>alias make='make -s -j 4' #这里开到4-5就不要更多了
</code></pre>

</div>
  
  
    <footer>
      <a rel="full-article" href="/2013/10/12/a-strange-error/">阅读全文</a>
    </footer>
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2013/10/11/post-review-conflict-under-git-svn/">Post-review在svn和git共同存在下的冲突问题</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-11T21:24:00+08:00" pubdate data-updated="true">Oct 11<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p class="indent">有时候我们会同时用多种版本管理工具进行管理，或许这听着很eggache，但是有时候确实会发生，比如</p>

<ul>
<li>不习惯某种版本管理工具，希望通过另一种熟悉的版本管理工具进行管理</li>
<li>有些特性是其他的版本管理工具所没有的</li>
<li>开发的版本管理和自己的分支管理策略之间有冲突，开发的版本库不允许随便建立测试分支</li>
</ul>


</div>
  
  
    <footer>
      <a rel="full-article" href="/2013/10/11/post-review-conflict-under-git-svn/">阅读全文</a>
    </footer>
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2013/10/10/the-best-monitor-under-linux-htop/">霸气风骚的系统监视器htop</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-10T20:12:00+08:00" pubdate data-updated="true">Oct 10<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>做测试和运维的同学都比较熟悉top工具，top工具提供了强大的系统性能监视能力，但是top毕竟比较简陋，而服务器端又不能运行需要X的程序，所以需要一款更人性更强大的系统监视器。HTOP就是一个很好的选择。</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/2013/10/10/the-best-monitor-under-linux-htop/">阅读全文</a>
    </footer>
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2013/10/07/tourism-of-jinzhou/">去了趟锦州</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-07T18:34:00+08:00" pubdate data-updated="true">Oct 7<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p class="indent">去锦州的原因，其实是没搞到去其他的地方的票。</p>

<p class="indent">十一这个季节，就是人啊人啊人啊人啊人啊人啊人啊人啊人啊人啊人啊&hellip;</p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2013/10/06/young-detective-dee-rise-of-the-sea-dragon/">狄仁杰之神都龙王</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-06T20:21:00+08:00" pubdate data-updated="true">Oct 6<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p class="indent">抽空去看了一下。去看的原因倒是很简单，有人把它上升到中国大片的崛起的高度。大片看多了，崛起这事情，倒是值得去看一下。</p>

<p class="indent">坦白说比其他的拍的好多了，至少没什么硬伤，或者明显的硬伤，这让我很欣慰了，对的起票钱（折扣之后）。</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/2013/10/06/young-detective-dee-rise-of-the-sea-dragon/">阅读全文</a>
    </footer>
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2013/09/30/give-me-a-sigarette-of-lanzhou/">陌生的人, 请给我一支兰州</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-09-30T16:11:00+08:00" pubdate data-updated="true">Sep 30<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"></div>
  
  
    <footer>
      <a rel="full-article" href="/2013/09/30/give-me-a-sigarette-of-lanzhou/">阅读全文</a>
    </footer>
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2013/09/27/depend-problem-in-oceanbase/">Oceanbase的库依赖问题</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-09-27T16:15:00+08:00" pubdate data-updated="true">Sep 27<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p class="indent">今天遇到一个问题: 写测试用例的时候发现总是找不到符号undefined refrence, 第一反应是我去有个没编译的吧, 但是打印了所有的符号，发现其实编译生成库文件里面完全有对应的符号，命名空间也没有错误。这就是很诡异的问题了，刚好手头另一份代码可以编译链接成功，于是对比了一下午结果，发现最后一个函数在类里实现就能编译，类外实现就不能编译，这个问题就太毁三观了。</p>

<p class="indent">最后请教了 <a href="http://weibo.com/cangzhou" title="Leverly">解伦师兄</a> ， 发现其实是库依赖的问题， Libtool制定的链接库列表是有相互依赖关系的，比如：</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/2013/09/27/depend-problem-in-oceanbase/">阅读全文</a>
    </footer>
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2013/09/26/root-table-manager/">Oceanbase源码分析-root_table_manager相关</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-09-26T12:15:00+08:00" pubdate data-updated="true">Sep 26<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>记录一下root_table_manager相关类的阅读和心得。</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/2013/09/26/root-table-manager/">阅读全文</a>
    </footer>
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2013/09/22/avoid-delete-wrong-files-using-rm/">防止通过rm误删文件</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-09-22T20:46:00+08:00" pubdate data-updated="true">Sep 22<span>nd</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p class="indent">相信大家都有通过rm误删文件的经历, 而且Linux下又貌似没有Final Data之类的工具. 相对于Windows或者Nautilus里的删除机制, rm虽然高效, 但是很危险.</p>

<p class="indent">为了防止误删文件, 我们可以把删除的文件先转移到/tmp下, /tmp下的文件会被系统定时清除, 也就起到了回收站的作用.</p>

<p class="indent">这里我们首先建立如下脚本:</p>

<pre><code>#!/bin/sh 
dirpath=/tmp/recycle_$USER # find a place for recycle
now=`date +%Y%m%d_%H_%M_%S_`  
arg=$1
if [ "$arg" = "-rf" ] || [ "$arg" = "-fr" ] || [ "$arg" = "-r" ]; then # compatible with /bin/rm
    shift
    arg=$1
elif [ -d $arg ]; then # is a directory
    echo "rm: cannot remove '$arg': Is a directory"
    exit
fi
filename=${now}$arg # add a timestamp for files deleted
if [ ! -d ${dirpath} ];then  
    /bin/mkdir -p ${dirpath} 
    chmod 777 ${dirpath} 
fi 
/bin/mv $arg ${dirpath}/${filename} # move to trash
</code></pre>

<p class="indent">然后把脚本命名为rm放到/bin目录下, 最好放到home/bin目录下然后指定一下Path, 这样不影响其他人.</p>

<pre><code>export PATH=$HOME/bin:$PATH
</code></pre>

<p class="indent">最后记得给rm加权限就行</p>

<p class="indent">需要说明的一点是, 服务器端有时候为了限制rm会给rm做alias(别名), 所以以上rm脚本需要根据实际情况判断传入参数的序号, 比如如果有别名设置如下:</p>

<pre><code>alias rm='rm -i --preserve-root' 
</code></pre>

<p class="indent">就需要把上面的$1都改成$3, 钦此.</p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2013/09/16/oceanbase-source-analysis-tablet/">OceanBase源码分析-tablet相关</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-09-16T15:49:00+08:00" pubdate data-updated="true">Sep 16<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>ObRootTabletInfo</h3>

<p>Tablet是分布式系统里很重要的概念, 无论是分布式文件系统, 还是分布式数据库, tablet定义了</p>

<p>//TODO</p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2013/09/16/oceanbase-sources-analyze-roottable/">oceanbase源码分析-Rowkey相关</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-09-16T12:55:00+08:00" pubdate data-updated="true">Sep 16<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>这里分析一下ObRowkey相关的源码.</p>

<p> 引用<a href="http://blog.csdn.net/maray/article/details/9731113" title="OceanBase里面的rowkey是什么概念，是由哪些要素构成的？">晓楚师兄的一段话</a>:</p>

<ul>
<li>Rowkey是OceanBase诞生之初就引入的概念，最终被确立是在OceanBase 0.3。</li>
<li>为了便于理解，不妨把OceanBase想象成一个Key-Value系统，Rowkey就是Key，Value就是返回的行数据。</li>
<li>如果你对mysql数据库熟悉，那么不妨把Rowkey理解成primary key，它就是那几个主键列的组合，列的顺序与primary key中定义的顺序一致。</li>
</ul>


</div>
  
  
    <footer>
      <a rel="full-article" href="/2013/09/16/oceanbase-sources-analyze-roottable/">阅读全文</a>
    </footer>
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2013/09/15/memcached-source-analysis/">Memcached源码分析-内存管理</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-09-15T18:29:00+08:00" pubdate data-updated="true">Sep 15<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Memcached是一套分布式的缓存系统, 对于WEB应用来讲, Memcached的引入可以减少对于数据库等的请求, 从而减少应用响应时间, 提高吞吐量. 国外类似的实现有Redis等. 国内有淘宝自主研发的tair系统等.</p>

<p>memcached的源码实现很优雅, 相对于其他的开源系统, 比如nginx\apache等, memcached的实现并不复杂, 是一份很好的教材. 这里我们分几部分分析一下memcached的源码. (基于memcached 1.4.0)</p>

<h2>基本源码结构</h2>

<p>主要的源码有:</p>

<ul>
<li>memcached.c: 系统入口, 并完成初始化等工作, 通过libevent建立连接, 并</li>
</ul>


<p>//TODO</p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2013/09/15/oceanbase-sources-analyze-rootserver-main-frame/">oceanbase源码分析-RootServer主要框架</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-09-15T12:55:00+08:00" pubdate data-updated="true">Sep 15<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>这里记录一下RootServer主要框架的阅读和心得。</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/2013/09/15/oceanbase-sources-analyze-rootserver-main-frame/">阅读全文</a>
    </footer>
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2013/09/15/to-be-a-hero/">普通英雄</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-09-15T12:54:00+08:00" pubdate data-updated="true">Sep 15<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>只是想起一首老歌:</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/2013/09/15/to-be-a-hero/">阅读全文</a>
    </footer>
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2013/09/14/tricks-about-octopress/">Octopress的一些技巧</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-09-14T15:03:00+08:00" pubdate data-updated="true">Sep 14<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>自从把wordpress换成Octopress, 腰不酸了背不疼了, 写博客也有劲了~</p>

<p>以上只是吐个槽而已, Octopress是基于Jekyll的博客系统, Jekyll是从markdown生成静态网页的网页生成器. 这是背景. 详细的不表.</p>

<p>主要说下面几个小技巧:</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/2013/09/14/tricks-about-octopress/">阅读全文</a>
    </footer>
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2013/09/14/show-gitdiff-using-vimdiff/">用vimdiff来显示gitdiff</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-09-14T11:40:00+08:00" pubdate data-updated="true">Sep 14<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>git diff默认是调用linux的diff工具的, 一眼看上去毕竟还是不知所云, 不像其他两栏的diff工具那么直观. 我们可以考虑用vimdiff来显示gitdiff的结果.</p>

<p>具体说来有两种办法:</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/2013/09/14/show-gitdiff-using-vimdiff/">阅读全文</a>
    </footer>
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2013/09/12/obstring-souce-analysis/">ObString源码分析</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-09-12T16:02:00+08:00" pubdate data-updated="true">Sep 12<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>ObString是oceanbase的源码类</p>

<p>//TODO</p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2013/09/11/rhinoceros-camel/">犀骆</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-09-11T15:46:00+08:00" pubdate data-updated="true">Sep 11<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>中文名: 犀骆</p>

<p>英文名: Rhinoceros Camel</p>

<p><img src="/images/2013-9/rhinoceros_camel.jpg" title="犀骆 Rhinoceros Camel" alt="" /></p>

<p>犀骆是骆驼科, 骆驼属的动物, 因体型高大威猛, 貌似犀牛, 故被称作犀骆. 主要生活在北非洲和西亚洲、印度等热带地域, 是重要的交通工具和牲畜.</p>

<p>犀骆是<a href="http://alibaba.github.io/oceanbase/" title="OceanBase">OceanBase</a> 0.4.2版本的吉祥物.</p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2013/09/02/cplusplus-primer-book-review/">C++ Primer 读书笔记</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-09-02T12:55:00+08:00" pubdate data-updated="true">Sep 2<span>nd</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>今天遇到一个c 的问题，上网查了查，发现答案的出处其实就是C Primer，想想这本经典的书其实没怎么细度过，很多细节其实模棱两可，所以决定每天读一点，务必求细致，不为速度，写点读书笔记权当是打卡了。</p>

<ol>
<li> 关于初始化变量和未初始化变量</li>
</ol>


<blockquote><p>这里有个很蛋疼的例子，VC我没试过，gcc下有匪夷所思的输出</p></blockquote>

<pre><code>int a;
int b;
int c;
printf("a=%d  b=%d  c=%dn", a, b, c);
</code></pre>

<p>2.块注释不能嵌套</p>

<p>3.两种初始化方式</p>

<pre><code>int ival(1024);//直接初始化
int ival=1024; //复制初始化
</code></pre>

<blockquote><p>c 中初始化不是赋值，初始化指创建变量并赋值，赋值则是擦去对象当前值并用新值代替</p>

<p>初始化语句中前面定义的变量可以用来初始化后面的值，所以如下语句是合法的</p></blockquote>

<pre><code>double salary=9999.99,wage(salary 0.01);
</code></pre>

<p>4.const作用域也不能出文件</p>

<p>5.const引用是指向const对象的引用，是一种语法规则限制。另外const引用可以初始化为不同类型的对象或右值，例如：</p>

<pre><code>double dval=3.14;
const int &amp;ri=dval;//编译器会转换代码为：int temp=dval;const int &amp;ri=temp;

const int &amp;r=42;
const int &amp;r2=r i;
</code></pre>

<p>6.string的连接： 操作符左右操作数必须至少有一个是string类型的，但是鉴于 操作符是从左到右求值的，所以这种是合法的：</p>

<pre><code>string s1="b";
string s2="a" s1 "c";
</code></pre>

<p>6.还有一件事情:大写字母的ascii码值小于小写字母，切记</p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2013/05/29/from-the-miao-code/">由&#8221;喵&#8221;代码想到的</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-05-29T00:00:00+08:00" pubdate data-updated="true">May 29<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>网上看到这样一段代码</p>

<p><img src="http://www.roybit.com/wp-content/uploads/2013/05/miao.jpg" title="miao.jpg" alt="miao.jpg" /></p>

<p>还是挺无聊的，于是想到一个问题，宏替换的时候假如有多个匹配，应该匹配哪一个的问题，于是实验如下：</p>

<pre><code>#include 

#define aaa "3a"
#define a "1a"
#define aa "2a"

int main(int argc, const char *argv[])
{
    printf("%s
",aaa);
}
</code></pre>

<p>这里最终输入结果是3a，也符合我们的思维方式，最长匹配嘛，值得一提的是这种情况</p>

<pre><code>printf("%s
",aa a);
</code></pre>

<p>替换结果是”2a” “a”，通过空格间隔。C Primer中提到过这种书写方式，这也是字符串跨行的一种有效的写法，但是毕竟很少在实际情况中看到。
另外一种字符串跨行的方式是：</p>

<pre><code>    char chstr2[] = "abcabc\
abcabc";
</code></pre>

<p>这里需要注意，第二行前面不能有空格或者tab。</p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2013/01/10/think-of-one-thing/">想起一件事情</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-10T00:00:00+08:00" pubdate data-updated="true">Jan 10<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>前几天给家里打电话，妈妈说，你什么时候放假回来啊，姨夫前几天还问你了，说能不能给把手机刷新一下，我也不懂，你看你知道怎么弄么？</p>

<p>估计所有学计算机相关专业的孩子都会遇到这种事情，大家觉得在电子产品领域，他们不懂的你都该懂，要不然你都学了些什么。这是个极为无奈的问题。或许放在几年前我肯定会说，我又不是修手机的，但想了想还是说，我回去看看吧。</p>

<p>记得很久之前，要么高中要么快考高中的时候，爸爸的一个朋友找来说，看能不能让你孩子帮忙考个计算机一级啊，评职称要用的，人老了，学不会电脑了。于是爸爸征求我的意见，我那时候年少气盛，立场坚定，转了个弯说我直接考计算机二级的，这些形而上学的Word操作我实在不研究啊。想想也算是回绝的不留余地，不知道那人是信了还是觉得不好强求，于是说那好，我再找找别人吧。</p>

<p>这么些年过去了，回来想这件事情，才觉得心中怅然，不能说有所愧疚，只是觉得有些原则，不见得那么重要。放在现在我也觉得作弊自然不对，不过这些事情放在父母那里，就不是那么绝对了。出来求学这几年，多有负于父母，唯一能做的，也就是尽量帮他们解决点麻烦。小城小镇，圈子就那么大，帮他们打理一下人际，在外也多一份安心，毕竟回趟家，已经不是容易的事情了。</p>

<p>唉重珍重。</p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2012/12/19/watch-variables-when-debuggin-with-gdb-and-pdb/">GDB/PDB调试时变量的监视</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-12-19T00:00:00+08:00" pubdate data-updated="true">Dec 19<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>gdb下有几个监视变量的命令，比如watch可以监视一个变量是否更改，rwatch监视读，awatch监视写等等。这里说的主要是另一个命令，display。</p>

<p>display命令做的事情是指定一个变量，然后在每次调试停住的时候显示这个变量的值。这个是很有用的操作，等于在命令行调试的时候提供了类似于IDE里监视变量（Add to Watch）的功能。但是一直没有发现python的调试工具pdb里有类似的功能。后来在Python官方文档里看到一个命令:commands，提供了类似的功能。</p>

<p>commands命令的使用是 commands [bpnumber] 。bpnumber指定了断点的id（集），省略的话表示上一个断点（集）。之后可以输入需要做的事情，然后以end结尾，一个简单的例子如下：</p>

<pre><code>(Pdb) commands 1
(com) print some_variable
(com) end
(Pdb)
</code></pre>

<p>commands有一个明显的问题，就是如果停在其他断点的地方，就会终止这个commands，以后即使执行到了这个断点，也不会再执行该commands，官方的解释是：</p>

<blockquote><p>Specifying any command resuming execution (currently continue, step, next, return, jump, quit and their abbreviations) terminates the command list (as if that command was immediately followed by end). This is because any time you resume execution (even with a simple next or step), you may encounter another breakpoint–which could have its own command list, leading to ambiguities about which list to execute.</p></blockquote>

<p>但是这个明明是说只要恢复执行，commands就失效啊…但是实际上比如你只打了一个断点，然后在这个断点定义了commands，之后每次都是用continue，这是不会导致该断点失效的，毕竟没有encounter another breakpoint–which could have its own command list嘛。</p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2012/11/21/nazaritism-of-programmers/">技术人员之修行</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-21T00:00:00+08:00" pubdate data-updated="true">Nov 21<span>st</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>最近在看关于阿里的几篇文章，比如<a href="http://kb.cnblogs.com/page/132724/" title="淘宝技术发展">淘宝技术发展</a>,<a href="http://kb.cnblogs.com/page/132716/" title="技术普及帖：你刚才在淘宝上买了一件东西">技术普及帖：你刚才在淘宝上买了一件东西</a>和 <a href="http://kb.cnblogs.com/page/132752/" title="从P1到P7——我在淘宝这7年">从P1到P7——我在淘宝这7年</a>等。看完最深刻的感受其实是做技术是种修行，颇有打怪练级的意思。解决一个一个问题，才能提升自己的水平，而到了一定的程度，也就能触类旁通了。这是个挺艰难的过程。</p>

<p>我一直觉得做技术还是挺好的一件事情，说简单，挑战很大，成高手很难，说复杂，其实技术再复杂也有章可循，世界上最复杂的，莫过于人。这恐怕会牵扯到许多关于做不做技术的讨论，比如<a href="http://kb.cnblogs.com/page/131719/" title="关于IT行业人员吃的都是青春饭？">这个</a>和<a href="http://kb.cnblogs.com/page/131717/" title="IT单身男士必看【找女友-单身程序员】">这个</a>。不过总的来说，不管将来是不是一直做技术，先做几年还是有好处的。万学归源，能力是不变的，素质是共通的，能把一件事情做到登峰造极的人，做其他事情，大致不会很差，反过来说，尽全力都做不好一件事的，恐怕也很难做好别的事情。</p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2012/11/18/some-feelings/">一点心情</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-18T00:00:00+08:00" pubdate data-updated="true">Nov 18<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>写程序写了一天，晚上跟爸妈打了个电话，聊聊签工作的事情，越谈越觉得伤感。这几天听了太多的户口、发展、机会之类的词汇，突然觉得这些东西未必是你真的想追求的。读高中的时候觉得一定要考出去，否则有啥出息，研三的这个秋天，才觉得之前很多深恶痛绝的事情，是如此的温情。</p>

<p>很多变化真是不知不觉。比如有时候想跟父母说压力好大，但是往往话到嘴边又吞回去了。再比如说一天下来累的要命，想找个人聊聊天，结果想来想去也找不到该联系谁。刘瑜说人生之惬意，在于三五知己，谈笑风生。以前没感觉，现在才觉得真是难得，尤其在这样一个忙忙碌碌的社会里。</p>

<p>落寞。好像这个词最贴切了。写这点东西，多半是因为这个词，是它让我有落笔的冲动。站在窗台看外面风吹树叶，昏黄的等下陌生的行人，猛然觉得这个城市还是如此陌生。北京，北京，在这里居住了六年了，逛了很多地方，换了两所学校，所得的印象依然是如此模糊。回味一下，似乎对遇到这些人的印象甚于对这所城市。走过一个城市，认识一些人，发生一些事，不知道这是不是大家共同的人生轨迹。也许某些年前的一个决定，就决定了你将来会来到这里，遇见谁。所以说高考的魅力，不在于如愿以偿，而在于阴差阳错。</p>

<p>找工作赞告一段落了。最终签哪里还在犹豫，但是也没多少好犹豫的时间了。还是那样，未来无法预测，随他阴差阳错去吧。但是真的想离开了。最近一个突出的感觉是，无论签哪里，未来几年的生活状态都差不多，上班挤地铁加班，然后寻求涨薪，等机会跳槽，大致如此。这永远是一个拼搏的城市，每天早上多睡了一个小时都觉得好奢侈。年轻的时候压力大点无所谓，但是过几年难免心态疲惫。或许应该换个地方，换个心情了。偌大的世界，阻挡你走出去的，只有自己。</p>

<p>好久不写东西了，感觉文字都退化了，这个微博盛行和消息爆炸的时代，果然求摘要是最刚性的需求，所以简单的说，就是一句话，想走了…</p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2012/10/16/recommand-two-stl-learning-resource/">推荐两个STL学习资源</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-16T00:00:00+08:00" pubdate data-updated="true">Oct 16<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>本来想自己写一点的，后来觉得见识颇浅，所以直接贴别人的了。两篇文章其实都是说algorithm多于stl的数据结构，不过这也可能是很多人学习的时候忽视的，而且把通用算法用到数组上的方法确实挺方便。</p>

<blockquote><p>1: <a href="http://www.lslnet.com/linux/books/resource/stl.html">http://www.lslnet.com/linux/books/resource/stl.html</a> STL 简介，标准模板库</p>

<p>2: <a href="http://net.pku.edu.cn/~yhf/UsingSTL.htm">http://net.pku.edu.cn/~yhf/UsingSTL.htm</a> 三十分钟掌握STL</p></blockquote>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2012/10/16/problems-of-two-dimension-string-array/">二维字符串数组的问题</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-16T00:00:00+08:00" pubdate data-updated="true">Oct 16<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>随手写了个字符串的程序，才发现自己好像对字符串数组的理解一直似懂非懂。</p>

<p>先举一个int二维数组简单的例子：</p>

<pre><code>void foo(int (*p)[3],int n)
{
    for(int i=0;i
</code></pre>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2012/10/08/problems-about-length-variable-array/">变长数组的问题</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-08T00:00:00+08:00" pubdate data-updated="true">Oct 8<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>今天在gcc里写代码，偶然发现好像下标可以用变量（非const），比如：</p>

<pre><code>int n=0;
scanf("%d",&amp;n);
int a[n];//当然这里一定要有合法性判断
</code></pre>

<p>这个理念太颠覆了，从学c语言的时候就被灌输说数组长度是不可变的，想用可变长度的话，要么malloc一块内存，要么用vector这种动态表。后来试了试发现vc里是直接无法通过编译的。查到如下一段说明：</p>

<blockquote><p>在C99中新加入了对变长数组的支持，即数组的长度可以由某个非const变量来定义。可变数组的空间大小直到程序运行时才能确定，因此只有程序在运行时才能为程序分配空间。在gcc编译器程序会在运行时根据实际指定的大小(变量当前的值)调节esp的值，为数组在栈上分配适当大小的空间。由于要在运行时才能为数组分配空间，在开始分配空间之前空间的大小是不确定的，因此分配空间的起始地址也是不确定的(例如要在栈上分配两个可变长数组的情况下)。为了在以后的代码中对可变长数组的内容进行引用操作，程序必须通过某种方式获取可变长数组的地址。在gcc编译器中会在相对于ebp固定的偏移量的栈上分配的一个固定大小的区域（称为内情向量）来记录可变长数组的信息，如数组的开始地址等。后继代码通过内情向量中的起始地址访问可变长数组。</p>

<p>因为数组依靠在程序运行时动态的调整esp来分配空间，所以这种类型的数组只能够定义在栈内，不能够定义在数据段上(全局数组，静态数组)。</p></blockquote>

<p>看来gcc才是王道啊。</p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2012/10/08/pointer-to-array-and-array-of-pointer-and-pointer-to-a-function/">指针数组，数组指针与函数指针</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-08T00:00:00+08:00" pubdate data-updated="true">Oct 8<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>指针数组是指由指针组成的数组，这个比较好理解；数组指针是指向一个数组的指针，其实字面上也比较好理解。容易混淆的地方在于书写形式有些类似</p>

<pre><code>int *p[n];  //array of pointers
int (*p)[n];//pointer to an array
</code></pre>

<p>指针数组可以像普通数组一样使用，只不过每个元素是指针而已，数组指针可直接指向一个数组，从而用来遍历一个数组，一个简单的例子如下：</p>

<pre><code>void PrintLine(int *p,int n)
{
    for(int i=0;i
</code></pre>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2012/10/03/some-problems-of-django-url-mapping/">关于Django Url映射的一些小问题</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-03T00:00:00+08:00" pubdate data-updated="true">Oct 3<span>rd</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>之前写Django一直没想着去用patterns的prefix，偶然用的时候发现总不起作用，后来才发觉原来是写法的问题</p>

<pre><code>urlpatterns = patterns('book.views',
    (r'^(\w ).html$', 'default_render'),
)
</code></pre>

<p>在这种情况下肯定是没问题的，但是不排除会有同学跟我一样的写成如下的格式</p>

<pre><code>urlpatterns = patterns('book.views',
    (r'^(\w ).html$', default_render),
)
</code></pre>

<p>看到差别了吧，只有字符串才可以拼接嘛。</p>

<p>另外是关于Django 1.4之后的路径的问题，每个app被放到跟主project同级的目录，所以引用的时候都变成与project同级的模块。比如有一个叫test的project，那么test里的urls.py必然是test.urls，而某个app里的urls.py显然已经不是test.app.urls而是app.urls了。</p>

<p>纯mark之。水文勿喷….</p>
</div>
  
  


    </article>
  
  
    <article class="well">
      
  <header class="page-header">
    
      <h2 class="entry-title"><a href="/2012/09/26/about-functional-programming/">关于函数式编程</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-09-26T00:00:00+08:00" pubdate data-updated="true">Sep 26<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>本来想写点东西的，后来发现自己的理解还是比较浅薄，所以直接贴两篇文章好了。</p>

<blockquote><p>[1]阮一峰老师的函数式编程初探</p>

<p>[2]Steve Yegge的大作名词王国中的死刑</p></blockquote>

<p>看完之后相信你会对函数式编程有一个基本的理解。</p>
</div>
  
  


    </article>
  
  <ul class="pager">
    
    <li class="previous"><a href="/page/3/">&larr; Older</a></li>
    
    <li><a href="/blog/archives">Blog Archives</a></li>
    
    <li class="next"><a href="/">Newer &rarr;</a></li>
    
  </ul>
</div>
<aside class="sidebar-nav span3">
  
    <section class="well">
    <div class="profilepic align-center">
        <img src="/images/common/cxh.jpeg" alt="cxh.me" width="160px" class="img-rounded"/>
    </div>
    <hr/>

    <ul id="about_me" class="nav nav-list">
        <li class="nav-header">About Me</li>
        <li>北航本，清华硕，现就职于支付宝北京。方向分布式数据库。<br/> 老子是文人，沦为程序员的</li>
    </ul>
</section>
<section class="well">
    <ul id="profile" class="nav nav-list">
        <li class="nav-header">Profile</li>
        <li><a href="https://github.com/chenxiaohui/">GitHub</a></li>
        <li><a href="http://weibo.com/sdqxcxh/">Weibo</a></li>
        <li><a href="http://renren.com/sdqxcxh/">Renren</a></li>
        <li><a href="https://twitter.com/sdqxcxh/">Twitter</a></li>
        <li><a href="https://facebook.com/sdqxcxh/">Facebook</a></li>
        <li><a href="http://www.yeelink.net/devices/10575">RaspberryPi</a></li>
    </ul>
</section>
<section class="well">
    <ul id="refs" class="nav nav-list">
        <li class="nav-header">Blogroll</li>
        <li><a href="http://nxn.me">那些年</a></li>
        <li><a href="http://yiguid.com/">大顾的博客</a></li>
        <li><a href="http://www.chunhuiwang.com">Charles Wang 的传说</a></li>
        <li><a href="http://wukan.me/">阿倫的孤獨星球</a></li>
        <li><a href="http://www.yuzelang.com/">狼的博客</a></li>
    </ul>
</section>
<section class="well">
    <ul id="feeling" class="nav nav-list">
        <li class="nav-header">一点心情</li>
    </ul>
    <p></p>
    <img src="/images/common/ambition.jpg" class="notice_pic img-polaroid" alt="当你的才华还撑不起你的野心时，那你就应该静下心来学习。" />
    <p></p>
    <p class="indent">
        当你的才华还撑不起你的野心时，那你就应该静下心来学习。
    </p>
    <p class="align-right">
        ———from weibo
    </p>
</section>
<section class="well">
  <ul id="recent_posts" class="nav nav-list">
    <li class="nav-header">Recent Posts</li>
    
      <li class="post">
        <a href="/2014/06/09/oceanbase-introduction-note/"></a>
      </li>
    
      <li class="post">
        <a href="/2014/06/09/defensive-strategy/">常见的防御性编程策略</a>
      </li>
    
      <li class="post">
        <a href="/2014/06/09/vim7-dot-4-and-vimgdb-compile/">vim7.4 && vimgdb编译</a>
      </li>
    
      <li class="post">
        <a href="/2014/06/09/oceanbase-cplusplus-note/">总结Oceanbase编码中需要注意的一些细节</a>
      </li>
    
      <li class="post">
        <a href="/2014/05/25/pi-temperature-sensor/">用树莓派和DS18B20监控温度变化</a>
      </li>
    
  </ul>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo" class="page-footer"><hr>
<p>
  Copyright &copy; 2014 - Harry Chen -
  <span class="credit">
      Powered by <a href="http://octopress.org">Octopress</a> /
                 <a href="http://getbootstrap.com/2.3.2/">Bootstrap</a> -
  </span>
  <span class="credit">Statistics 
 </span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'harrychen';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>








<script type="text/javascript" >
<!--
    $(function() {
      $('pre').addClass('prettyprint').attr('style', 'overflow:auto');
      window.prettyPrint && prettyPrint();
      $('table').addClass('table')
});
-->
</script>


</body>
</html>
